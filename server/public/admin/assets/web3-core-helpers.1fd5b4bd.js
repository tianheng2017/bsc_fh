var v=Object.defineProperty,T=Object.defineProperties;var E=Object.getOwnPropertyDescriptors;var s=Object.getOwnPropertySymbols;var g=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var c=(r,e,n)=>e in r?v(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,f=(r,e)=>{for(var n in e||(e={}))g.call(e,n)&&c(r,n,e[n]);if(s)for(var n of s(e))N.call(e,n)&&c(r,n,e[n]);return r},d=(r,e)=>T(r,E(e));import"./ethjs-unit.157b4de8.js";import{l as x}from"./web3-utils.4b7ab516.js";import"./randombytes.926bd932.js";import{l as y}from"./web3-eth-iban.17b5d44a.js";var F={ErrorResponse:function(r){var e=!!r&&!!r.error&&!!r.error.message?r.error.message:JSON.stringify(r),n=!!r.error&&!!r.error.data?r.error.data:null,a=new Error("Returned error: "+e);return a.data=n,a},InvalidNumberOfParams:function(r,e,n){return new Error('Invalid number of parameters for "'+n+'". Got '+r+" expected "+e+"!")},InvalidConnection:function(r,e){return this.ConnectionError("CONNECTION ERROR: Couldn't connect to node "+r+".",e)},InvalidProvider:function(){return new Error("Provider not set or invalid")},InvalidResponse:function(r){var e=!!r&&!!r.error&&!!r.error.message?r.error.message:"Invalid JSON RPC response: "+JSON.stringify(r);return new Error(e)},ConnectionTimeout:function(r){return new Error("CONNECTION TIMEOUT: timeout of "+r+" ms achived")},ConnectionNotOpenError:function(r){return this.ConnectionError("connection not open on send()",r)},ConnectionCloseError:function(r){return typeof r=="object"&&r.code&&r.reason?this.ConnectionError("CONNECTION ERROR: The connection got closed with the close code `"+r.code+"` and the following reason string `"+r.reason+"`",r):new Error("CONNECTION ERROR: The connection closed unexpectedly")},MaxAttemptsReachedOnReconnectingError:function(){return new Error("Maximum number of reconnect attempts reached!")},PendingRequestsOnReconnectingError:function(){return new Error("CONNECTION ERROR: Provider started to reconnect before the response got received!")},ConnectionError:function(r,e){const n=new Error(r);return e&&(n.code=e.code,n.reason=e.reason),n},RevertInstructionError:function(r,e){var n=new Error("Your request got reverted with the following reason string: "+r);return n.reason=r,n.signature=e,n},TransactionRevertInstructionError:function(r,e,n){var a=new Error(`Transaction has been reverted by the EVM:
`+JSON.stringify(n,null,2));return a.reason=r,a.signature=e,a.receipt=n,a},TransactionError:function(r,e){var n=new Error(r);return n.receipt=e,n},NoContractAddressFoundError:function(r){return this.TransactionError("The transaction receipt didn't contain a contract address.",r)},ContractCodeNotStoredError:function(r){return this.TransactionError("The contract code couldn't be stored, please check your gas limit.",r)},TransactionRevertedWithoutReasonError:function(r){return this.TransactionError(`Transaction has been reverted by the EVM:
`+JSON.stringify(r,null,2),r)},TransactionOutOfGasError:function(r){return this.TransactionError(`Transaction ran out of gas. Please provide more gas:
`+JSON.stringify(r,null,2),r)},ResolverMethodMissingError:function(r,e){return new Error("The resolver at "+r+'does not implement requested method: "'+e+'".')},ContractMissingABIError:function(){return new Error("You must provide the json interface of the contract when instantiating a contract object.")},ContractOnceRequiresCallbackError:function(){return new Error("Once requires a callback as the second parameter.")},ContractEventDoesNotExistError:function(r){return new Error('Event "'+r+`" doesn't exist in this contract.`)},ContractReservedEventError:function(r){return new Error('The event "'+r+`" is a reserved event name, you can't use it.`)},ContractMissingDeployDataError:function(){return new Error('No "data" specified in neither the given options, nor the default options.')},ContractNoAddressDefinedError:function(){return new Error("This contract object doesn't have address set yet, please set an address first.")},ContractNoFromAddressDefinedError:function(){return new Error('No "from" address specified in neither the given options, nor the default options.')}},t=x,b=y,w=function(r){return r.map(t.numberToHex)},P=function(r){return r.address=t.toChecksumAddress(r.address),r.nonce=t.hexToNumberString(r.nonce),r.balance=t.hexToNumberString(r.balance),r},o=function(r){return t.toBN(r).toString(10)},C=function(r){return r==="latest"||r==="pending"||r==="earliest"},I=function(r){return this&&r==null?u(this.defaultBlock):u(r)},u=function(r){if(r!==void 0)return C(r)?r:r==="genesis"?"0x0":t.isHexStrict(r)?typeof r=="string"?r.toLowerCase():r:t.numberToHex(r)},m=function(r){if(r.to&&(r.to=i(r.to)),r.data&&r.input)throw new Error(`You can't have "data" and "input" as properties of transactions at the same time, please use either "data" or "input" instead.`);if(!r.data&&r.input&&(r.data=r.input,delete r.input),r.data&&!r.data.startsWith("0x")&&(r.data="0x"+r.data),r.data&&!t.isHex(r.data))throw new Error("The data field must be HEX encoded data.");return(r.gas||r.gasLimit)&&(r.gas=r.gas||r.gasLimit),(r.maxPriorityFeePerGas||r.maxFeePerGas)&&delete r.gasPrice,["gasPrice","gas","value","maxPriorityFeePerGas","maxFeePerGas","nonce"].filter(function(e){return r[e]!==void 0}).forEach(function(e){r[e]=t.numberToHex(r[e])}),r},A=function(r){r=m(r);var e=r.from||(this?this.defaultAccount:null);return e&&(r.from=i(e)),r},O=function(r){if(r=m(r),typeof r.from!="number"&&!(!!r.from&&typeof r.from=="object")){if(r.from=r.from||(this?this.defaultAccount:null),!r.from&&typeof r.from!="number")throw new Error('The send transactions "from" field must be defined!');r.from=i(r.from)}return r},B=function(r){return t.isHexStrict(r)?r:t.utf8ToHex(r)},h=function(r){return r.blockNumber!==null&&(r.blockNumber=t.hexToNumber(r.blockNumber)),r.transactionIndex!==null&&(r.transactionIndex=t.hexToNumber(r.transactionIndex)),r.nonce=t.hexToNumber(r.nonce),r.gas=t.hexToNumber(r.gas),r.gasPrice&&(r.gasPrice=o(r.gasPrice)),r.maxFeePerGas&&(r.maxFeePerGas=o(r.maxFeePerGas)),r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=o(r.maxPriorityFeePerGas)),r.type&&(r.type=t.hexToNumber(r.type)),r.value=o(r.value),r.to&&t.isAddress(r.to)?r.to=t.toChecksumAddress(r.to):r.to=null,r.from&&(r.from=t.toChecksumAddress(r.from)),r},R=function(r){if(typeof r!="object")throw new Error("Received receipt is invalid: "+r);return this.hexFormat||(r.blockNumber!==null&&(r.blockNumber=t.hexToNumber(r.blockNumber)),r.transactionIndex!==null&&(r.transactionIndex=t.hexToNumber(r.transactionIndex)),r.cumulativeGasUsed=t.hexToNumber(r.cumulativeGasUsed),r.gasUsed=t.hexToNumber(r.gasUsed),r.effectiveGasPrice&&(r.effectiveGasPrice=t.hexToNumber(r.effectiveGasPrice))),Array.isArray(r.logs)&&(r.logs=r.logs.map(l)),r.contractAddress&&(r.contractAddress=t.toChecksumAddress(r.contractAddress)),typeof r.status!="undefined"&&r.status!==null&&(r.status=Boolean(parseInt(r.status))),r},S=function(r){return r.gasLimit=t.hexToNumber(r.gasLimit),r.gasUsed=t.hexToNumber(r.gasUsed),r.size=t.hexToNumber(r.size),r.timestamp=t.hexToNumber(r.timestamp),r.number!==null&&(r.number=t.hexToNumber(r.number)),r.difficulty&&(r.difficulty=o(r.difficulty)),r.totalDifficulty&&(r.totalDifficulty=o(r.totalDifficulty)),Array.isArray(r.transactions)&&r.transactions.forEach(function(e){if(typeof e!="string")return h(e)}),r.miner&&(r.miner=t.toChecksumAddress(r.miner)),r.baseFeePerGas&&(r.baseFeePerGas=t.hexToNumber(r.baseFeePerGas)),r},G=function(r){var e=function(n){return n===null||typeof n=="undefined"?null:(n=String(n),n.indexOf("0x")===0?n:t.fromUtf8(n))};return r===void 0&&(r={}),r.fromBlock===void 0&&(r=d(f({},r),{fromBlock:"latest"})),(r.fromBlock||r.fromBlock===0)&&(r.fromBlock=u(r.fromBlock)),(r.toBlock||r.toBlock===0)&&(r.toBlock=u(r.toBlock)),r.topics=r.topics||[],r.topics=r.topics.map(function(n){return Array.isArray(n)?n.map(e):e(n)}),e=null,r.address&&(r.address=Array.isArray(r.address)?r.address.map(function(n){return i(n)}):i(r.address)),r},l=function(r){if(typeof r.blockHash=="string"&&typeof r.transactionHash=="string"&&typeof r.logIndex=="string"){var e=t.sha3(r.blockHash.replace("0x","")+r.transactionHash.replace("0x","")+r.logIndex.replace("0x",""));r.id="log_"+e.replace("0x","").slice(0,8)}else r.id||(r.id=null);return r.blockNumber!==null&&(r.blockNumber=t.hexToNumber(r.blockNumber)),r.transactionIndex!==null&&(r.transactionIndex=t.hexToNumber(r.transactionIndex)),r.logIndex!==null&&(r.logIndex=t.hexToNumber(r.logIndex)),r.address&&(r.address=t.toChecksumAddress(r.address)),r},k=function(r){return r.ttl&&(r.ttl=t.numberToHex(r.ttl)),r.workToProve&&(r.workToProve=t.numberToHex(r.workToProve)),r.priority&&(r.priority=t.numberToHex(r.priority)),Array.isArray(r.topics)||(r.topics=r.topics?[r.topics]:[]),r.topics=r.topics.map(function(e){return e.indexOf("0x")===0?e:t.fromUtf8(e)}),r},H=function(r){return r.expiry=t.hexToNumber(r.expiry),r.sent=t.hexToNumber(r.sent),r.ttl=t.hexToNumber(r.ttl),r.workProved=t.hexToNumber(r.workProved),r.topics||(r.topics=[]),r.topics=r.topics.map(function(e){return t.toUtf8(e)}),r},i=function(r){var e=new b(r);if(e.isValid()&&e.isDirect())return e.toAddress().toLowerCase();if(t.isAddress(r))return"0x"+r.toLowerCase().replace("0x","");throw new Error(`Provided address ${r} is invalid, the capitalization checksum test failed, or it's an indirect IBAN address which can't be converted.`)},D=function(r){return r.startingBlock=t.hexToNumber(r.startingBlock),r.currentBlock=t.hexToNumber(r.currentBlock),r.highestBlock=t.hexToNumber(r.highestBlock),r.knownStates&&(r.knownStates=t.hexToNumber(r.knownStates),r.pulledStates=t.hexToNumber(r.pulledStates)),r},L={inputDefaultBlockNumberFormatter:I,inputBlockNumberFormatter:u,inputCallFormatter:A,inputTransactionFormatter:O,inputAddressFormatter:i,inputPostFormatter:k,inputLogFormatter:G,inputSignFormatter:B,inputStorageKeysFormatter:w,outputProofFormatter:P,outputBigNumberFormatter:o,outputTransactionFormatter:h,outputTransactionReceiptFormatter:R,outputBlockFormatter:S,outputLogFormatter:l,outputPostFormatter:H,outputSyncingFormatter:D},U=F,M=L,z={errors:U,formatters:M};export{z as l};
