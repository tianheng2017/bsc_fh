import{A as E}from"./element-plus.0ac588e8.js";import{P as w}from"./index.c12d972f.js";import{a as k}from"./dict.e49a2d2d.js";import{r as l}from"./index.d134d873.js";import{d as L,s as p,r as R,e as x,$ as r,o as F,c as M,U as m,L as B,u as b}from"./@vue.230e89ba.js";function $(o){return l.get({url:"/money_log/lists",params:o})}function A(o){return l.post({url:"/money_log/add",params:o})}function P(o){return l.post({url:"/money_log/edit",params:o})}const q={class:"edit-popup"},j=L({__name:"edit",emits:["success","close"],setup(o,{expose:d,emit:c}){const i=p(),n=p(),u=R("add"),f=x(()=>u.value=="edit"?"\u7F16\u8F91\u8D44\u91D1\u660E\u7EC6\u8868":"\u65B0\u589E\u8D44\u91D1\u660E\u7EC6\u8868"),s=r({id:""}),_=r({mtype:[]}),y=()=>{k({type_value:"mtype",page_type:0}).then(e=>{_.mtype=e.lists})},v=r({}),D=e=>{for(const t in s)e[t]!=null&&e[t]!=null&&(s[t]=e[t])},g=async()=>{var t,a;await((t=i.value)==null?void 0:t.validate());const e={...s};u.value=="edit"?await P(e):await A(e),(a=n.value)==null||a.close(),c("success")},h=(e="add")=>{var t;u.value=e,(t=n.value)==null||t.open()},C=()=>{c("close")};return y(),d({open:h,setFormData:D}),(e,t)=>{const a=E;return F(),M("div",q,[m(w,{ref_key:"popupRef",ref:n,title:b(f),async:!0,width:"550px",clickModalClose:!0,onConfirm:g,onClose:C},{default:B(()=>[m(a,{ref_key:"formRef",ref:i,model:s,"label-width":"90px",rules:v},null,8,["model","rules"])]),_:1},8,["title"])])}}});export{j as _,$ as a};
