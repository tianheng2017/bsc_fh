import{b as _2}from"./bn.js.92292d6f.js";import{c as N2}from"./es6-promise.237949db.js";import{e as q2}from"./elliptic.8f0e0a52.js";const p=(e,t)=>parseInt(e.slice(t*2+2,t*2+4),16),G2=e=>{let t;if(typeof window!="undefined"&&window.crypto&&window.crypto.getRandomValues)t=window.crypto.getRandomValues(new Uint8Array(e));else if(typeof N2!="undefined")t=N2("crypto").randomBytes(e);else throw"Safe random numbers not available.";let o="0x";for(let r=0;r<e;++r)o+=("00"+t[r].toString(16)).slice(-2);return o},v2=e=>(e.length-2)/2,M2=e=>"0x"+e.reduce((t,o)=>t+o.slice(2),""),T2=(e,t,o)=>"0x"+o.slice(e*2+2,t*2+2),X2=e=>{let t="0x";for(let o=0,r=v2(e);o<r;++o)t+=e.slice((r-o)*2,(r-o+1)*2);return t},B2=(e,t)=>t.length===e*2+2?t:B2(e,"0x0"+t.slice(2)),F2=(e,t)=>t.length===e*2+2?t:F2(e,t+"0"),I2=e=>{let t=[];for(let o=2,r=e.length;o<r;o+=2)t.push(parseInt(e.slice(o,o+2),16));return t},H2=e=>{let t="0x";for(let o=0,r=e.length;o<r;++o){let c=e[o];t+=(c<16?"0":"")+c.toString(16)}return t},z2=e=>new Uint8Array(I2(e)),J2=e=>H2([].slice.call(e,0)),L2=e=>{let t=e.toString(16);return t.length%2===0?"0x"+t:"0x0"+t},O2=e=>parseInt(e.slice(2),16),Q2=(e,t)=>e.concat(t.slice(2)),W2=e=>e==="0x0"?"0x":e.length%2===0?e:"0x0"+e.slice(2),Y2=e=>e[2]==="0"?"0x"+e.slice(3):e,Z2=e=>{let t="0x";for(let o=0;o<e.length;++o)t+=("00"+e.charCodeAt(o).toString(16)).slice(-2);return t},s2=e=>{let t="";for(let o=2;o<e.length;o+=2)t+=String.fromCharCode(parseInt(e.slice(o,o+2),16));return t},e0=e=>{const t=r=>{const c=r.toString(16);return c.length<2?"0"+c:c};let o="0x";for(let r=0;r!=e.length;r++){let c=e.charCodeAt(r);if(c<128){o+=t(c);continue}if(c<2048)o+=t(c>>6|192);else{if(c>55295&&c<56320){if(++r==e.length)return null;let i=e.charCodeAt(r);if(i<56320||i>57343)return null;c=65536+((c&1023)<<10)+(i&1023),o+=t(c>>18|240),o+=t(c>>12&63|128)}else o+=t(c>>12|224);o+=t(c>>6&63|128)}o+=t(c&63|128)}return o},t0=e=>{let t="",o=0,r=v2(e);for(;o<r;){let c=p(e,o++);if(c>127){if(c>191&&c<224){if(o>=r)return null;c=(c&31)<<6|p(e,o)&63}else if(c>223&&c<240){if(o+1>=r)return null;c=(c&15)<<12|(p(e,o)&63)<<6|p(e,++o)&63}else if(c>239&&c<248){if(o+2>=r)return null;c=(c&7)<<18|(p(e,o)&63)<<12|(p(e,++o)&63)<<6|p(e,++o)&63}else return null;++o}if(c<=65535)t+=String.fromCharCode(c);else if(c<=1114111)c-=65536,t+=String.fromCharCode(c>>10|55296),t+=String.fromCharCode(c&1023|56320);else return null}return t};var K2={random:G2,length:v2,concat:Q2,flatten:M2,slice:T2,reverse:X2,pad:B2,padRight:F2,fromAscii:Z2,toAscii:s2,fromString:e0,toString:t0,fromNumber:L2,toNumber:O2,fromNat:W2,toNat:Y2,fromArray:H2,toArray:I2,fromUint8Array:J2,toUint8Array:z2};const g2=_2.exports,o0=K2,r0=e=>"0x"+e.toString("hex"),h2=e=>new g2(e.slice(2),16),C2=e=>{const t="0x"+(e.slice(0,2)==="0x"?new g2(e.slice(2),16):new g2(e,10)).toString("hex");return t==="0x0"?"0x":t},n0=e=>R2($2(e,C2("10000000000")))/1e8,c0=e=>U2(P2(Math.floor(e*1e8)),C2("10000000000")),l0=e=>h2(e).toString(10),P2=e=>typeof e=="string"?/^0x/.test(e)?e:"0x"+e:"0x"+new g2(e).toString("hex"),R2=e=>h2(e).toNumber(),i0=e=>o0.pad(32,e),k2=e=>(t,o)=>r0(h2(t)[e](h2(o))),f0=k2("add"),U2=k2("mul"),$2=k2("div"),a0=k2("sub");var u0={toString:l0,fromString:C2,toNumber:R2,fromNumber:P2,toEther:n0,fromEther:c0,toUint256:i0,add:f0,mul:U2,div:$2,sub:a0};const g="0123456789abcdef".split(""),x0=[1,256,65536,16777216],b=[0,8,16,24],A2=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],b0=e=>({blocks:[],reset:!0,block:0,start:0,blockCount:1600-(e<<1)>>5,outputBlocks:e>>5,s:(t=>[].concat(t,t,t,t,t))([0,0,0,0,0,0,0,0,0,0])}),d0=(e,t)=>{for(var o=t.length,r=e.blocks,c=e.blockCount<<2,i=e.blockCount,d=e.outputBlocks,x=e.s,u=0,n,l;u<o;){if(e.reset)for(e.reset=!1,r[0]=e.block,n=1;n<i+1;++n)r[n]=0;if(typeof t!="string")for(n=e.start;u<o&&n<c;++u)r[n>>2]|=t[u]<<b[n++&3];else for(n=e.start;u<o&&n<c;++u)l=t.charCodeAt(u),l<128?r[n>>2]|=l<<b[n++&3]:l<2048?(r[n>>2]|=(192|l>>6)<<b[n++&3],r[n>>2]|=(128|l&63)<<b[n++&3]):l<55296||l>=57344?(r[n>>2]|=(224|l>>12)<<b[n++&3],r[n>>2]|=(128|l>>6&63)<<b[n++&3],r[n>>2]|=(128|l&63)<<b[n++&3]):(l=65536+((l&1023)<<10|t.charCodeAt(++u)&1023),r[n>>2]|=(240|l>>18)<<b[n++&3],r[n>>2]|=(128|l>>12&63)<<b[n++&3],r[n>>2]|=(128|l>>6&63)<<b[n++&3],r[n>>2]|=(128|l&63)<<b[n++&3]);if(e.lastByteIndex=n,n>=c){for(e.start=n-c,e.block=r[i],n=0;n<i;++n)x[n]^=r[n];S2(x),e.reset=!0}else e.start=n}if(n=e.lastByteIndex,r[n>>2]|=x0[n&3],e.lastByteIndex===c)for(r[0]=r[i],n=1;n<i+1;++n)r[n]=0;for(r[i-1]|=2147483648,n=0;n<i;++n)x[n]^=r[n];S2(x);for(var h="",n=0,m=0,a;m<d;){for(n=0;n<i&&m<d;++n,++m)a=x[n],h+=g[a>>4&15]+g[a&15]+g[a>>12&15]+g[a>>8&15]+g[a>>20&15]+g[a>>16&15]+g[a>>28&15]+g[a>>24&15];m%i===0&&(S2(x),n=0)}return"0x"+h},S2=e=>{var t,o,r,c,i,d,x,u,l,h,n,m,a,k,S,v,C,w,y,N,A,B,F,I,H,K,P,R,U,$,E,j,D,V,_,q,G,M,T,X,z,J,L,O,Q,W,Y,Z,s,e2,t2,o2,r2,n2,c2,l2,i2,f2,a2,u2,x2,b2,d2;for(r=0;r<48;r+=2)c=e[0]^e[10]^e[20]^e[30]^e[40],i=e[1]^e[11]^e[21]^e[31]^e[41],d=e[2]^e[12]^e[22]^e[32]^e[42],x=e[3]^e[13]^e[23]^e[33]^e[43],u=e[4]^e[14]^e[24]^e[34]^e[44],l=e[5]^e[15]^e[25]^e[35]^e[45],h=e[6]^e[16]^e[26]^e[36]^e[46],n=e[7]^e[17]^e[27]^e[37]^e[47],m=e[8]^e[18]^e[28]^e[38]^e[48],a=e[9]^e[19]^e[29]^e[39]^e[49],t=m^(d<<1|x>>>31),o=a^(x<<1|d>>>31),e[0]^=t,e[1]^=o,e[10]^=t,e[11]^=o,e[20]^=t,e[21]^=o,e[30]^=t,e[31]^=o,e[40]^=t,e[41]^=o,t=c^(u<<1|l>>>31),o=i^(l<<1|u>>>31),e[2]^=t,e[3]^=o,e[12]^=t,e[13]^=o,e[22]^=t,e[23]^=o,e[32]^=t,e[33]^=o,e[42]^=t,e[43]^=o,t=d^(h<<1|n>>>31),o=x^(n<<1|h>>>31),e[4]^=t,e[5]^=o,e[14]^=t,e[15]^=o,e[24]^=t,e[25]^=o,e[34]^=t,e[35]^=o,e[44]^=t,e[45]^=o,t=u^(m<<1|a>>>31),o=l^(a<<1|m>>>31),e[6]^=t,e[7]^=o,e[16]^=t,e[17]^=o,e[26]^=t,e[27]^=o,e[36]^=t,e[37]^=o,e[46]^=t,e[47]^=o,t=h^(c<<1|i>>>31),o=n^(i<<1|c>>>31),e[8]^=t,e[9]^=o,e[18]^=t,e[19]^=o,e[28]^=t,e[29]^=o,e[38]^=t,e[39]^=o,e[48]^=t,e[49]^=o,k=e[0],S=e[1],W=e[11]<<4|e[10]>>>28,Y=e[10]<<4|e[11]>>>28,R=e[20]<<3|e[21]>>>29,U=e[21]<<3|e[20]>>>29,u2=e[31]<<9|e[30]>>>23,x2=e[30]<<9|e[31]>>>23,J=e[40]<<18|e[41]>>>14,L=e[41]<<18|e[40]>>>14,V=e[2]<<1|e[3]>>>31,_=e[3]<<1|e[2]>>>31,v=e[13]<<12|e[12]>>>20,C=e[12]<<12|e[13]>>>20,Z=e[22]<<10|e[23]>>>22,s=e[23]<<10|e[22]>>>22,$=e[33]<<13|e[32]>>>19,E=e[32]<<13|e[33]>>>19,b2=e[42]<<2|e[43]>>>30,d2=e[43]<<2|e[42]>>>30,n2=e[5]<<30|e[4]>>>2,c2=e[4]<<30|e[5]>>>2,q=e[14]<<6|e[15]>>>26,G=e[15]<<6|e[14]>>>26,w=e[25]<<11|e[24]>>>21,y=e[24]<<11|e[25]>>>21,e2=e[34]<<15|e[35]>>>17,t2=e[35]<<15|e[34]>>>17,j=e[45]<<29|e[44]>>>3,D=e[44]<<29|e[45]>>>3,I=e[6]<<28|e[7]>>>4,H=e[7]<<28|e[6]>>>4,l2=e[17]<<23|e[16]>>>9,i2=e[16]<<23|e[17]>>>9,M=e[26]<<25|e[27]>>>7,T=e[27]<<25|e[26]>>>7,N=e[36]<<21|e[37]>>>11,A=e[37]<<21|e[36]>>>11,o2=e[47]<<24|e[46]>>>8,r2=e[46]<<24|e[47]>>>8,O=e[8]<<27|e[9]>>>5,Q=e[9]<<27|e[8]>>>5,K=e[18]<<20|e[19]>>>12,P=e[19]<<20|e[18]>>>12,f2=e[29]<<7|e[28]>>>25,a2=e[28]<<7|e[29]>>>25,X=e[38]<<8|e[39]>>>24,z=e[39]<<8|e[38]>>>24,B=e[48]<<14|e[49]>>>18,F=e[49]<<14|e[48]>>>18,e[0]=k^~v&w,e[1]=S^~C&y,e[10]=I^~K&R,e[11]=H^~P&U,e[20]=V^~q&M,e[21]=_^~G&T,e[30]=O^~W&Z,e[31]=Q^~Y&s,e[40]=n2^~l2&f2,e[41]=c2^~i2&a2,e[2]=v^~w&N,e[3]=C^~y&A,e[12]=K^~R&$,e[13]=P^~U&E,e[22]=q^~M&X,e[23]=G^~T&z,e[32]=W^~Z&e2,e[33]=Y^~s&t2,e[42]=l2^~f2&u2,e[43]=i2^~a2&x2,e[4]=w^~N&B,e[5]=y^~A&F,e[14]=R^~$&j,e[15]=U^~E&D,e[24]=M^~X&J,e[25]=T^~z&L,e[34]=Z^~e2&o2,e[35]=s^~t2&r2,e[44]=f2^~u2&b2,e[45]=a2^~x2&d2,e[6]=N^~B&k,e[7]=A^~F&S,e[16]=$^~j&I,e[17]=E^~D&H,e[26]=X^~J&V,e[27]=z^~L&_,e[36]=e2^~o2&O,e[37]=t2^~r2&Q,e[46]=u2^~b2&n2,e[47]=x2^~d2&c2,e[8]=B^~k&v,e[9]=F^~S&C,e[18]=j^~I&K,e[19]=D^~H&P,e[28]=J^~V&q,e[29]=L^~_&G,e[38]=o2^~O&W,e[39]=r2^~Q&Y,e[48]=b2^~n2&l2,e[49]=d2^~c2&i2,e[0]^=A2[r],e[1]^=A2[r+1]},m2=e=>t=>{var o;if(t.slice(0,2)==="0x"){o=[];for(var r=2,c=t.length;r<c;r+=2)o.push(parseInt(t.slice(r,r+2),16))}else o=t;return d0(b0(e),o)};var m0={keccak256:m2(256),keccak512:m2(512),keccak256s:m2(256),keccak512s:m2(512)};const f=K2,g0=u0,h0=q2,w2=new h0.ec("secp256k1"),{keccak256:p2,keccak256s:p0}=m0,k0=e=>{const t=p2(f.concat(f.random(32),e||f.random(32))),o=f.concat(f.concat(f.random(32),t),f.random(32)),r=p2(o);return E2(r)},y2=e=>{const t=p0(e.slice(2));let o="0x";for(let r=0;r<40;r++)o+=parseInt(t[r+2],16)>7?e[r+2].toUpperCase():e[r+2];return o},E2=e=>{const t=new Buffer(e.slice(2),"hex"),o=w2.keyFromPrivate(t),r="0x"+o.getPublic(!1,"hex").slice(2),c=p2(r);return{address:y2("0x"+c.slice(-40)),privateKey:e}},j2=([e,t,o])=>f.flatten([t,o,e]),D2=e=>[f.slice(64,f.length(e),e),f.slice(0,32,e),f.slice(32,64,e)],V2=e=>(t,o)=>{const r=w2.keyFromPrivate(new Buffer(o.slice(2),"hex")).sign(new Buffer(t.slice(2),"hex"),{canonical:!0});return j2([g0.fromString(f.fromNumber(e+r.recoveryParam)),f.pad(32,f.fromNat("0x"+r.r.toString(16))),f.pad(32,f.fromNat("0x"+r.s.toString(16)))])},S0=V2(27),v0=(e,t)=>{const o=D2(t),r={v:f.toNumber(o[0]),r:o[1].slice(2),s:o[2].slice(2)},c=w2.recoverPubKey(new Buffer(e.slice(2),"hex"),r,r.v<2?r.v:1-r.v%2),i="0x"+c.encode("hex",!1).slice(2),d=p2(i);return y2("0x"+d.slice(-40))};var N0={create:k0,toChecksum:y2,fromPrivate:E2,sign:S0,makeSigner:V2,recover:v0,encodeSignature:j2,decodeSignature:D2};export{N0 as a};
