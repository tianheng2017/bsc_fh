import{l}from"./web3-core-helpers.1fd5b4bd.js";import{e as a}from"./rollup-plugin-node-polyfills.dd1027b1.js";import"./cross-fetch.e2b9664d.js";import{e as c}from"./es6-promise.237949db.js";import"./abortcontroller-polyfill.071601cc.js";var h=l.errors,m=a,g=a;c.exports.polyfill();var r=function(n,t){t=t||{},this.withCredentials=t.withCredentials,this.timeout=t.timeout||0,this.headers=t.headers,this.agent=t.agent,this.connected=!1;const e=t.keepAlive!==!1;this.host=n||"http://localhost:8545",this.agent||(this.host.substring(0,5)==="https"?this.httpsAgent=new g.Agent({keepAlive:e}):this.httpAgent=new m.Agent({keepAlive:e}))};r.prototype.send=function(f,n){var t={method:"POST",body:JSON.stringify(f)},e={},o;if(typeof AbortController!="undefined"?o=new AbortController:typeof window!="undefined"&&typeof window.AbortController!="undefined"&&(o=new window.AbortController),typeof o!="undefined"&&(t.signal=o.signal),typeof XMLHttpRequest=="undefined"){var s={httpsAgent:this.httpsAgent,httpAgent:this.httpAgent};this.agent&&(s.httpsAgent=this.agent.https,s.httpAgent=this.agent.http),this.host.substring(0,5)==="https"?t.agent=s.httpsAgent:t.agent=s.httpAgent}this.headers&&this.headers.forEach(function(i){e[i.name]=i.value}),e["Content-Type"]||(e["Content-Type"]="application/json"),this.withCredentials?t.credentials="include":t.credentials="omit",t.headers=e,this.timeout>0&&typeof o!="undefined"&&(this.timeoutId=setTimeout(function(){o.abort()},this.timeout));var p=function(i){this.timeoutId!==void 0&&clearTimeout(this.timeoutId),i.json().then(function(d){n(null,d)}).catch(function(d){n(h.InvalidResponse(i))})},u=function(i){this.timeoutId!==void 0&&clearTimeout(this.timeoutId),i.name==="AbortError"&&n(h.ConnectionTimeout(this.timeout)),n(h.InvalidConnection(this.host))};fetch(this.host,t).then(p.bind(this)).catch(u.bind(this))};r.prototype.disconnect=function(){};r.prototype.supportsSubscriptions=function(){return!1};var C=r;export{C as l};
