import{c as L}from"./@ethereumjs.af3f5dff.js";import{b as zr}from"./buffer.b4004db0.js";import{r as Ur}from"./@ethersproject.5d8623a7.js";import{d as Fr}from"./rlp.4a2a910e.js";import{b as cr}from"./rollup-plugin-node-polyfills.dd1027b1.js";import{k as Vr,s as Or}from"./ethereum-cryptography.1b681b54.js";import{r as jr}from"./create-hash.0f02e375.js";var $r={},vr={},wt={},Kr={exports:{}};(function(i){(function(m,p){function v(a,t){if(!a)throw new Error(t||"Assertion failed")}function g(a,t){a.super_=t;var e=function(){};e.prototype=t.prototype,a.prototype=new e,a.prototype.constructor=a}function h(a,t,e){if(h.isBN(a))return a;this.negative=0,this.words=null,this.length=0,this.red=null,a!==null&&((t==="le"||t==="be")&&(e=t,t=10),this._init(a||0,t||10,e||"be"))}typeof m=="object"?m.exports=h:p.BN=h,h.BN=h,h.wordSize=26;var A;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?A=window.Buffer:A=Ur.Buffer}catch(a){}h.isBN=function(t){return t instanceof h?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===h.wordSize&&Array.isArray(t.words)},h.max=function(t,e){return t.cmp(e)>0?t:e},h.min=function(t,e){return t.cmp(e)<0?t:e},h.prototype._init=function(t,e,n){if(typeof t=="number")return this._initNumber(t,e,n);if(typeof t=="object")return this._initArray(t,e,n);e==="hex"&&(e=16),v(e===(e|0)&&e>=2&&e<=36),t=t.toString().replace(/\s+/g,"");var f=0;t[0]==="-"&&(f++,this.negative=1),f<t.length&&(e===16?this._parseHex(t,f,n):(this._parseBase(t,e,f),n==="le"&&this._initArray(this.toArray(),e,n)))},h.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(v(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),n==="le"&&this._initArray(this.toArray(),e,n)},h.prototype._initArray=function(t,e,n){if(v(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var u,l,c=0;if(n==="be")for(f=t.length-1,u=0;f>=0;f-=3)l=t[f]|t[f-1]<<8|t[f-2]<<16,this.words[u]|=l<<c&67108863,this.words[u+1]=l>>>26-c&67108863,c+=24,c>=26&&(c-=26,u++);else if(n==="le")for(f=0,u=0;f<t.length;f+=3)l=t[f]|t[f+1]<<8|t[f+2]<<16,this.words[u]|=l<<c&67108863,this.words[u+1]=l>>>26-c&67108863,c+=24,c>=26&&(c-=26,u++);return this._strip()};function N(a,t){var e=a.charCodeAt(t);if(e>=48&&e<=57)return e-48;if(e>=65&&e<=70)return e-55;if(e>=97&&e<=102)return e-87;v(!1,"Invalid character in "+a)}function S(a,t,e){var n=N(a,e);return e-1>=t&&(n|=N(a,e-1)<<4),n}h.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var u=0,l=0,c;if(n==="be")for(f=t.length-1;f>=e;f-=2)c=S(t,e,f)<<u,this.words[l]|=c&67108863,u>=18?(u-=18,l+=1,this.words[l]|=c>>>26):u+=8;else{var o=t.length-e;for(f=o%2===0?e+1:e;f<t.length;f+=2)c=S(t,e,f)<<u,this.words[l]|=c&67108863,u>=18?(u-=18,l+=1,this.words[l]|=c>>>26):u+=8}this._strip()};function x(a,t,e,n){for(var f=0,u=0,l=Math.min(a.length,e),c=t;c<l;c++){var o=a.charCodeAt(c)-48;f*=n,o>=49?u=o-49+10:o>=17?u=o-17+10:u=o,v(o>=0&&u<n,"Invalid character"),f+=u}return f}h.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var f=0,u=1;u<=67108863;u*=e)f++;f--,u=u/e|0;for(var l=t.length-n,c=l%f,o=Math.min(l,l-c)+n,r=0,s=n;s<o;s+=f)r=x(t,s,s+f,e),this.imuln(u),this.words[0]+r<67108864?this.words[0]+=r:this._iaddn(r);if(c!==0){var b=1;for(r=x(t,s,t.length,e),s=0;s<c;s++)b*=e;this.imuln(b),this.words[0]+r<67108864?this.words[0]+=r:this._iaddn(r)}this._strip()},h.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red};function E(a,t){a.words=t.words,a.length=t.length,a.negative=t.negative,a.red=t.red}if(h.prototype._move=function(t){E(t,this)},h.prototype.clone=function(){var t=new h(null);return this.copy(t),t},h.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},h.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},h.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{h.prototype[Symbol.for("nodejs.util.inspect.custom")]=pt}catch(a){h.prototype.inspect=pt}else h.prototype.inspect=pt;function pt(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var _t=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],xt=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Lt=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];h.prototype.toString=function(t,e){t=t||10,e=e|0||1;var n;if(t===16||t==="hex"){n="";for(var f=0,u=0,l=0;l<this.length;l++){var c=this.words[l],o=((c<<f|u)&16777215).toString(16);u=c>>>24-f&16777215,f+=2,f>=26&&(f-=26,l--),u!==0||l!==this.length-1?n=_t[6-o.length]+o+n:n=o+n}for(u!==0&&(n=u.toString(16)+n);n.length%e!==0;)n="0"+n;return this.negative!==0&&(n="-"+n),n}if(t===(t|0)&&t>=2&&t<=36){var r=xt[t],s=Lt[t];n="";var b=this.clone();for(b.negative=0;!b.isZero();){var _=b.modrn(s).toString(t);b=b.idivn(s),b.isZero()?n=_+n:n=_t[r-_.length]+_+n}for(this.isZero()&&(n="0"+n);n.length%e!==0;)n="0"+n;return this.negative!==0&&(n="-"+n),n}v(!1,"Base should be between 2 and 36")},h.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&v(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},h.prototype.toJSON=function(){return this.toString(16,2)},A&&(h.prototype.toBuffer=function(t,e){return this.toArrayLike(A,t,e)}),h.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};var St=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)};h.prototype.toArrayLike=function(t,e,n){this._strip();var f=this.byteLength(),u=n||Math.max(1,f);v(f<=u,"byte array longer than desired length"),v(u>0,"Requested array length <= 0");var l=St(t,u),c=e==="le"?"LE":"BE";return this["_toArrayLike"+c](l,f),l},h.prototype._toArrayLikeLE=function(t,e){for(var n=0,f=0,u=0,l=0;u<this.length;u++){var c=this.words[u]<<l|f;t[n++]=c&255,n<t.length&&(t[n++]=c>>8&255),n<t.length&&(t[n++]=c>>16&255),l===6?(n<t.length&&(t[n++]=c>>24&255),f=0,l=0):(f=c>>>24,l+=2)}if(n<t.length)for(t[n++]=f;n<t.length;)t[n++]=0},h.prototype._toArrayLikeBE=function(t,e){for(var n=t.length-1,f=0,u=0,l=0;u<this.length;u++){var c=this.words[u]<<l|f;t[n--]=c&255,n>=0&&(t[n--]=c>>8&255),n>=0&&(t[n--]=c>>16&255),l===6?(n>=0&&(t[n--]=c>>24&255),f=0,l=0):(f=c>>>24,l+=2)}if(n>=0)for(t[n--]=f;n>=0;)t[n--]=0},Math.clz32?h.prototype._countBits=function(t){return 32-Math.clz32(t)}:h.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},h.prototype._zeroBits=function(t){if(t===0)return 26;var e=t,n=0;return(e&8191)===0&&(n+=13,e>>>=13),(e&127)===0&&(n+=7,e>>>=7),(e&15)===0&&(n+=4,e>>>=4),(e&3)===0&&(n+=2,e>>>=2),(e&1)===0&&n++,n},h.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return(this.length-1)*26+e};function It(a){for(var t=new Array(a.bitLength()),e=0;e<t.length;e++){var n=e/26|0,f=e%26;t[e]=a.words[n]>>>f&1}return t}h.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,n!==26)break}return t},h.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},h.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},h.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},h.prototype.isNeg=function(){return this.negative!==0},h.prototype.neg=function(){return this.clone().ineg()},h.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},h.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},h.prototype.ior=function(t){return v((this.negative|t.negative)===0),this.iuor(t)},h.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},h.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},h.prototype.iuand=function(t){var e;this.length>t.length?e=t:e=this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this._strip()},h.prototype.iand=function(t){return v((this.negative|t.negative)===0),this.iuand(t)},h.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},h.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},h.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var f=0;f<n.length;f++)this.words[f]=e.words[f]^n.words[f];if(this!==e)for(;f<e.length;f++)this.words[f]=e.words[f];return this.length=e.length,this._strip()},h.prototype.ixor=function(t){return v((this.negative|t.negative)===0),this.iuxor(t)},h.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},h.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},h.prototype.inotn=function(t){v(typeof t=="number"&&t>=0);var e=Math.ceil(t/26)|0,n=t%26;this._expand(e),n>0&&e--;for(var f=0;f<e;f++)this.words[f]=~this.words[f]&67108863;return n>0&&(this.words[f]=~this.words[f]&67108863>>26-n),this._strip()},h.prototype.notn=function(t){return this.clone().inotn(t)},h.prototype.setn=function(t,e){v(typeof t=="number"&&t>=0);var n=t/26|0,f=t%26;return this._expand(n+1),e?this.words[n]=this.words[n]|1<<f:this.words[n]=this.words[n]&~(1<<f),this._strip()},h.prototype.iadd=function(t){var e;if(this.negative!==0&&t.negative===0)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();var n,f;this.length>t.length?(n=this,f=t):(n=t,f=this);for(var u=0,l=0;l<f.length;l++)e=(n.words[l]|0)+(f.words[l]|0)+u,this.words[l]=e&67108863,u=e>>>26;for(;u!==0&&l<n.length;l++)e=(n.words[l]|0)+u,this.words[l]=e&67108863,u=e>>>26;if(this.length=n.length,u!==0)this.words[this.length]=u,this.length++;else if(n!==this)for(;l<n.length;l++)this.words[l]=n.words[l];return this},h.prototype.add=function(t){var e;return t.negative!==0&&this.negative===0?(t.negative=0,e=this.sub(t),t.negative^=1,e):t.negative===0&&this.negative!==0?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},h.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n=this.cmp(t);if(n===0)return this.negative=0,this.length=1,this.words[0]=0,this;var f,u;n>0?(f=this,u=t):(f=t,u=this);for(var l=0,c=0;c<u.length;c++)e=(f.words[c]|0)-(u.words[c]|0)+l,l=e>>26,this.words[c]=e&67108863;for(;l!==0&&c<f.length;c++)e=(f.words[c]|0)+l,l=e>>26,this.words[c]=e&67108863;if(l===0&&c<f.length&&f!==this)for(;c<f.length;c++)this.words[c]=f.words[c];return this.length=Math.max(this.length,c),f!==this&&(this.negative=1),this._strip()},h.prototype.sub=function(t){return this.clone().isub(t)};function Nt(a,t,e){e.negative=t.negative^a.negative;var n=a.length+t.length|0;e.length=n,n=n-1|0;var f=a.words[0]|0,u=t.words[0]|0,l=f*u,c=l&67108863,o=l/67108864|0;e.words[0]=c;for(var r=1;r<n;r++){for(var s=o>>>26,b=o&67108863,_=Math.min(r,t.length-1),B=Math.max(0,r-a.length+1);B<=_;B++){var yt=r-B|0;f=a.words[yt]|0,u=t.words[B]|0,l=f*u+b,s+=l/67108864|0,b=l&67108863}e.words[r]=b|0,o=s|0}return o!==0?e.words[r]=o|0:e.length--,e._strip()}var Tt=function(t,e,n){var f=t.words,u=e.words,l=n.words,c=0,o,r,s,b=f[0]|0,_=b&8191,B=b>>>13,yt=f[1]|0,P=yt&8191,I=yt>>>13,gr=f[2]|0,H=gr&8191,C=gr>>>13,pr=f[3]|0,O=pr&8191,K=pr>>>13,yr=f[4]|0,q=yr&8191,Z=yr>>>13,Mr=f[5]|0,z=Mr&8191,U=Mr>>>13,wr=f[6]|0,F=wr&8191,V=wr>>>13,_r=f[7]|0,j=_r&8191,$=_r>>>13,br=f[8]|0,D=br&8191,G=br>>>13,Br=f[9]|0,J=Br&8191,X=Br>>>13,Ar=u[0]|0,W=Ar&8191,Y=Ar>>>13,xr=u[1]|0,Q=xr&8191,tt=xr>>>13,Sr=u[2]|0,rt=Sr&8191,et=Sr>>>13,Nr=u[3]|0,it=Nr&8191,nt=Nr>>>13,Tr=u[4]|0,ft=Tr&8191,at=Tr>>>13,kr=u[5]|0,ot=kr&8191,st=kr>>>13,Er=u[6]|0,ht=Er&8191,ut=Er>>>13,Pr=u[7]|0,lt=Pr&8191,dt=Pr>>>13,Lr=u[8]|0,ct=Lr&8191,vt=Lr>>>13,Ir=u[9]|0,mt=Ir&8191,gt=Ir>>>13;n.negative=t.negative^e.negative,n.length=19,o=Math.imul(_,W),r=Math.imul(_,Y),r=r+Math.imul(B,W)|0,s=Math.imul(B,Y);var Dt=(c+o|0)+((r&8191)<<13)|0;c=(s+(r>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,o=Math.imul(P,W),r=Math.imul(P,Y),r=r+Math.imul(I,W)|0,s=Math.imul(I,Y),o=o+Math.imul(_,Q)|0,r=r+Math.imul(_,tt)|0,r=r+Math.imul(B,Q)|0,s=s+Math.imul(B,tt)|0;var Gt=(c+o|0)+((r&8191)<<13)|0;c=(s+(r>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,o=Math.imul(H,W),r=Math.imul(H,Y),r=r+Math.imul(C,W)|0,s=Math.imul(C,Y),o=o+Math.imul(P,Q)|0,r=r+Math.imul(P,tt)|0,r=r+Math.imul(I,Q)|0,s=s+Math.imul(I,tt)|0,o=o+Math.imul(_,rt)|0,r=r+Math.imul(_,et)|0,r=r+Math.imul(B,rt)|0,s=s+Math.imul(B,et)|0;var Jt=(c+o|0)+((r&8191)<<13)|0;c=(s+(r>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,o=Math.imul(O,W),r=Math.imul(O,Y),r=r+Math.imul(K,W)|0,s=Math.imul(K,Y),o=o+Math.imul(H,Q)|0,r=r+Math.imul(H,tt)|0,r=r+Math.imul(C,Q)|0,s=s+Math.imul(C,tt)|0,o=o+Math.imul(P,rt)|0,r=r+Math.imul(P,et)|0,r=r+Math.imul(I,rt)|0,s=s+Math.imul(I,et)|0,o=o+Math.imul(_,it)|0,r=r+Math.imul(_,nt)|0,r=r+Math.imul(B,it)|0,s=s+Math.imul(B,nt)|0;var Xt=(c+o|0)+((r&8191)<<13)|0;c=(s+(r>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,o=Math.imul(q,W),r=Math.imul(q,Y),r=r+Math.imul(Z,W)|0,s=Math.imul(Z,Y),o=o+Math.imul(O,Q)|0,r=r+Math.imul(O,tt)|0,r=r+Math.imul(K,Q)|0,s=s+Math.imul(K,tt)|0,o=o+Math.imul(H,rt)|0,r=r+Math.imul(H,et)|0,r=r+Math.imul(C,rt)|0,s=s+Math.imul(C,et)|0,o=o+Math.imul(P,it)|0,r=r+Math.imul(P,nt)|0,r=r+Math.imul(I,it)|0,s=s+Math.imul(I,nt)|0,o=o+Math.imul(_,ft)|0,r=r+Math.imul(_,at)|0,r=r+Math.imul(B,ft)|0,s=s+Math.imul(B,at)|0;var Wt=(c+o|0)+((r&8191)<<13)|0;c=(s+(r>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,o=Math.imul(z,W),r=Math.imul(z,Y),r=r+Math.imul(U,W)|0,s=Math.imul(U,Y),o=o+Math.imul(q,Q)|0,r=r+Math.imul(q,tt)|0,r=r+Math.imul(Z,Q)|0,s=s+Math.imul(Z,tt)|0,o=o+Math.imul(O,rt)|0,r=r+Math.imul(O,et)|0,r=r+Math.imul(K,rt)|0,s=s+Math.imul(K,et)|0,o=o+Math.imul(H,it)|0,r=r+Math.imul(H,nt)|0,r=r+Math.imul(C,it)|0,s=s+Math.imul(C,nt)|0,o=o+Math.imul(P,ft)|0,r=r+Math.imul(P,at)|0,r=r+Math.imul(I,ft)|0,s=s+Math.imul(I,at)|0,o=o+Math.imul(_,ot)|0,r=r+Math.imul(_,st)|0,r=r+Math.imul(B,ot)|0,s=s+Math.imul(B,st)|0;var Yt=(c+o|0)+((r&8191)<<13)|0;c=(s+(r>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,o=Math.imul(F,W),r=Math.imul(F,Y),r=r+Math.imul(V,W)|0,s=Math.imul(V,Y),o=o+Math.imul(z,Q)|0,r=r+Math.imul(z,tt)|0,r=r+Math.imul(U,Q)|0,s=s+Math.imul(U,tt)|0,o=o+Math.imul(q,rt)|0,r=r+Math.imul(q,et)|0,r=r+Math.imul(Z,rt)|0,s=s+Math.imul(Z,et)|0,o=o+Math.imul(O,it)|0,r=r+Math.imul(O,nt)|0,r=r+Math.imul(K,it)|0,s=s+Math.imul(K,nt)|0,o=o+Math.imul(H,ft)|0,r=r+Math.imul(H,at)|0,r=r+Math.imul(C,ft)|0,s=s+Math.imul(C,at)|0,o=o+Math.imul(P,ot)|0,r=r+Math.imul(P,st)|0,r=r+Math.imul(I,ot)|0,s=s+Math.imul(I,st)|0,o=o+Math.imul(_,ht)|0,r=r+Math.imul(_,ut)|0,r=r+Math.imul(B,ht)|0,s=s+Math.imul(B,ut)|0;var Qt=(c+o|0)+((r&8191)<<13)|0;c=(s+(r>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,o=Math.imul(j,W),r=Math.imul(j,Y),r=r+Math.imul($,W)|0,s=Math.imul($,Y),o=o+Math.imul(F,Q)|0,r=r+Math.imul(F,tt)|0,r=r+Math.imul(V,Q)|0,s=s+Math.imul(V,tt)|0,o=o+Math.imul(z,rt)|0,r=r+Math.imul(z,et)|0,r=r+Math.imul(U,rt)|0,s=s+Math.imul(U,et)|0,o=o+Math.imul(q,it)|0,r=r+Math.imul(q,nt)|0,r=r+Math.imul(Z,it)|0,s=s+Math.imul(Z,nt)|0,o=o+Math.imul(O,ft)|0,r=r+Math.imul(O,at)|0,r=r+Math.imul(K,ft)|0,s=s+Math.imul(K,at)|0,o=o+Math.imul(H,ot)|0,r=r+Math.imul(H,st)|0,r=r+Math.imul(C,ot)|0,s=s+Math.imul(C,st)|0,o=o+Math.imul(P,ht)|0,r=r+Math.imul(P,ut)|0,r=r+Math.imul(I,ht)|0,s=s+Math.imul(I,ut)|0,o=o+Math.imul(_,lt)|0,r=r+Math.imul(_,dt)|0,r=r+Math.imul(B,lt)|0,s=s+Math.imul(B,dt)|0;var tr=(c+o|0)+((r&8191)<<13)|0;c=(s+(r>>>13)|0)+(tr>>>26)|0,tr&=67108863,o=Math.imul(D,W),r=Math.imul(D,Y),r=r+Math.imul(G,W)|0,s=Math.imul(G,Y),o=o+Math.imul(j,Q)|0,r=r+Math.imul(j,tt)|0,r=r+Math.imul($,Q)|0,s=s+Math.imul($,tt)|0,o=o+Math.imul(F,rt)|0,r=r+Math.imul(F,et)|0,r=r+Math.imul(V,rt)|0,s=s+Math.imul(V,et)|0,o=o+Math.imul(z,it)|0,r=r+Math.imul(z,nt)|0,r=r+Math.imul(U,it)|0,s=s+Math.imul(U,nt)|0,o=o+Math.imul(q,ft)|0,r=r+Math.imul(q,at)|0,r=r+Math.imul(Z,ft)|0,s=s+Math.imul(Z,at)|0,o=o+Math.imul(O,ot)|0,r=r+Math.imul(O,st)|0,r=r+Math.imul(K,ot)|0,s=s+Math.imul(K,st)|0,o=o+Math.imul(H,ht)|0,r=r+Math.imul(H,ut)|0,r=r+Math.imul(C,ht)|0,s=s+Math.imul(C,ut)|0,o=o+Math.imul(P,lt)|0,r=r+Math.imul(P,dt)|0,r=r+Math.imul(I,lt)|0,s=s+Math.imul(I,dt)|0,o=o+Math.imul(_,ct)|0,r=r+Math.imul(_,vt)|0,r=r+Math.imul(B,ct)|0,s=s+Math.imul(B,vt)|0;var rr=(c+o|0)+((r&8191)<<13)|0;c=(s+(r>>>13)|0)+(rr>>>26)|0,rr&=67108863,o=Math.imul(J,W),r=Math.imul(J,Y),r=r+Math.imul(X,W)|0,s=Math.imul(X,Y),o=o+Math.imul(D,Q)|0,r=r+Math.imul(D,tt)|0,r=r+Math.imul(G,Q)|0,s=s+Math.imul(G,tt)|0,o=o+Math.imul(j,rt)|0,r=r+Math.imul(j,et)|0,r=r+Math.imul($,rt)|0,s=s+Math.imul($,et)|0,o=o+Math.imul(F,it)|0,r=r+Math.imul(F,nt)|0,r=r+Math.imul(V,it)|0,s=s+Math.imul(V,nt)|0,o=o+Math.imul(z,ft)|0,r=r+Math.imul(z,at)|0,r=r+Math.imul(U,ft)|0,s=s+Math.imul(U,at)|0,o=o+Math.imul(q,ot)|0,r=r+Math.imul(q,st)|0,r=r+Math.imul(Z,ot)|0,s=s+Math.imul(Z,st)|0,o=o+Math.imul(O,ht)|0,r=r+Math.imul(O,ut)|0,r=r+Math.imul(K,ht)|0,s=s+Math.imul(K,ut)|0,o=o+Math.imul(H,lt)|0,r=r+Math.imul(H,dt)|0,r=r+Math.imul(C,lt)|0,s=s+Math.imul(C,dt)|0,o=o+Math.imul(P,ct)|0,r=r+Math.imul(P,vt)|0,r=r+Math.imul(I,ct)|0,s=s+Math.imul(I,vt)|0,o=o+Math.imul(_,mt)|0,r=r+Math.imul(_,gt)|0,r=r+Math.imul(B,mt)|0,s=s+Math.imul(B,gt)|0;var er=(c+o|0)+((r&8191)<<13)|0;c=(s+(r>>>13)|0)+(er>>>26)|0,er&=67108863,o=Math.imul(J,Q),r=Math.imul(J,tt),r=r+Math.imul(X,Q)|0,s=Math.imul(X,tt),o=o+Math.imul(D,rt)|0,r=r+Math.imul(D,et)|0,r=r+Math.imul(G,rt)|0,s=s+Math.imul(G,et)|0,o=o+Math.imul(j,it)|0,r=r+Math.imul(j,nt)|0,r=r+Math.imul($,it)|0,s=s+Math.imul($,nt)|0,o=o+Math.imul(F,ft)|0,r=r+Math.imul(F,at)|0,r=r+Math.imul(V,ft)|0,s=s+Math.imul(V,at)|0,o=o+Math.imul(z,ot)|0,r=r+Math.imul(z,st)|0,r=r+Math.imul(U,ot)|0,s=s+Math.imul(U,st)|0,o=o+Math.imul(q,ht)|0,r=r+Math.imul(q,ut)|0,r=r+Math.imul(Z,ht)|0,s=s+Math.imul(Z,ut)|0,o=o+Math.imul(O,lt)|0,r=r+Math.imul(O,dt)|0,r=r+Math.imul(K,lt)|0,s=s+Math.imul(K,dt)|0,o=o+Math.imul(H,ct)|0,r=r+Math.imul(H,vt)|0,r=r+Math.imul(C,ct)|0,s=s+Math.imul(C,vt)|0,o=o+Math.imul(P,mt)|0,r=r+Math.imul(P,gt)|0,r=r+Math.imul(I,mt)|0,s=s+Math.imul(I,gt)|0;var ir=(c+o|0)+((r&8191)<<13)|0;c=(s+(r>>>13)|0)+(ir>>>26)|0,ir&=67108863,o=Math.imul(J,rt),r=Math.imul(J,et),r=r+Math.imul(X,rt)|0,s=Math.imul(X,et),o=o+Math.imul(D,it)|0,r=r+Math.imul(D,nt)|0,r=r+Math.imul(G,it)|0,s=s+Math.imul(G,nt)|0,o=o+Math.imul(j,ft)|0,r=r+Math.imul(j,at)|0,r=r+Math.imul($,ft)|0,s=s+Math.imul($,at)|0,o=o+Math.imul(F,ot)|0,r=r+Math.imul(F,st)|0,r=r+Math.imul(V,ot)|0,s=s+Math.imul(V,st)|0,o=o+Math.imul(z,ht)|0,r=r+Math.imul(z,ut)|0,r=r+Math.imul(U,ht)|0,s=s+Math.imul(U,ut)|0,o=o+Math.imul(q,lt)|0,r=r+Math.imul(q,dt)|0,r=r+Math.imul(Z,lt)|0,s=s+Math.imul(Z,dt)|0,o=o+Math.imul(O,ct)|0,r=r+Math.imul(O,vt)|0,r=r+Math.imul(K,ct)|0,s=s+Math.imul(K,vt)|0,o=o+Math.imul(H,mt)|0,r=r+Math.imul(H,gt)|0,r=r+Math.imul(C,mt)|0,s=s+Math.imul(C,gt)|0;var nr=(c+o|0)+((r&8191)<<13)|0;c=(s+(r>>>13)|0)+(nr>>>26)|0,nr&=67108863,o=Math.imul(J,it),r=Math.imul(J,nt),r=r+Math.imul(X,it)|0,s=Math.imul(X,nt),o=o+Math.imul(D,ft)|0,r=r+Math.imul(D,at)|0,r=r+Math.imul(G,ft)|0,s=s+Math.imul(G,at)|0,o=o+Math.imul(j,ot)|0,r=r+Math.imul(j,st)|0,r=r+Math.imul($,ot)|0,s=s+Math.imul($,st)|0,o=o+Math.imul(F,ht)|0,r=r+Math.imul(F,ut)|0,r=r+Math.imul(V,ht)|0,s=s+Math.imul(V,ut)|0,o=o+Math.imul(z,lt)|0,r=r+Math.imul(z,dt)|0,r=r+Math.imul(U,lt)|0,s=s+Math.imul(U,dt)|0,o=o+Math.imul(q,ct)|0,r=r+Math.imul(q,vt)|0,r=r+Math.imul(Z,ct)|0,s=s+Math.imul(Z,vt)|0,o=o+Math.imul(O,mt)|0,r=r+Math.imul(O,gt)|0,r=r+Math.imul(K,mt)|0,s=s+Math.imul(K,gt)|0;var fr=(c+o|0)+((r&8191)<<13)|0;c=(s+(r>>>13)|0)+(fr>>>26)|0,fr&=67108863,o=Math.imul(J,ft),r=Math.imul(J,at),r=r+Math.imul(X,ft)|0,s=Math.imul(X,at),o=o+Math.imul(D,ot)|0,r=r+Math.imul(D,st)|0,r=r+Math.imul(G,ot)|0,s=s+Math.imul(G,st)|0,o=o+Math.imul(j,ht)|0,r=r+Math.imul(j,ut)|0,r=r+Math.imul($,ht)|0,s=s+Math.imul($,ut)|0,o=o+Math.imul(F,lt)|0,r=r+Math.imul(F,dt)|0,r=r+Math.imul(V,lt)|0,s=s+Math.imul(V,dt)|0,o=o+Math.imul(z,ct)|0,r=r+Math.imul(z,vt)|0,r=r+Math.imul(U,ct)|0,s=s+Math.imul(U,vt)|0,o=o+Math.imul(q,mt)|0,r=r+Math.imul(q,gt)|0,r=r+Math.imul(Z,mt)|0,s=s+Math.imul(Z,gt)|0;var ar=(c+o|0)+((r&8191)<<13)|0;c=(s+(r>>>13)|0)+(ar>>>26)|0,ar&=67108863,o=Math.imul(J,ot),r=Math.imul(J,st),r=r+Math.imul(X,ot)|0,s=Math.imul(X,st),o=o+Math.imul(D,ht)|0,r=r+Math.imul(D,ut)|0,r=r+Math.imul(G,ht)|0,s=s+Math.imul(G,ut)|0,o=o+Math.imul(j,lt)|0,r=r+Math.imul(j,dt)|0,r=r+Math.imul($,lt)|0,s=s+Math.imul($,dt)|0,o=o+Math.imul(F,ct)|0,r=r+Math.imul(F,vt)|0,r=r+Math.imul(V,ct)|0,s=s+Math.imul(V,vt)|0,o=o+Math.imul(z,mt)|0,r=r+Math.imul(z,gt)|0,r=r+Math.imul(U,mt)|0,s=s+Math.imul(U,gt)|0;var or=(c+o|0)+((r&8191)<<13)|0;c=(s+(r>>>13)|0)+(or>>>26)|0,or&=67108863,o=Math.imul(J,ht),r=Math.imul(J,ut),r=r+Math.imul(X,ht)|0,s=Math.imul(X,ut),o=o+Math.imul(D,lt)|0,r=r+Math.imul(D,dt)|0,r=r+Math.imul(G,lt)|0,s=s+Math.imul(G,dt)|0,o=o+Math.imul(j,ct)|0,r=r+Math.imul(j,vt)|0,r=r+Math.imul($,ct)|0,s=s+Math.imul($,vt)|0,o=o+Math.imul(F,mt)|0,r=r+Math.imul(F,gt)|0,r=r+Math.imul(V,mt)|0,s=s+Math.imul(V,gt)|0;var sr=(c+o|0)+((r&8191)<<13)|0;c=(s+(r>>>13)|0)+(sr>>>26)|0,sr&=67108863,o=Math.imul(J,lt),r=Math.imul(J,dt),r=r+Math.imul(X,lt)|0,s=Math.imul(X,dt),o=o+Math.imul(D,ct)|0,r=r+Math.imul(D,vt)|0,r=r+Math.imul(G,ct)|0,s=s+Math.imul(G,vt)|0,o=o+Math.imul(j,mt)|0,r=r+Math.imul(j,gt)|0,r=r+Math.imul($,mt)|0,s=s+Math.imul($,gt)|0;var hr=(c+o|0)+((r&8191)<<13)|0;c=(s+(r>>>13)|0)+(hr>>>26)|0,hr&=67108863,o=Math.imul(J,ct),r=Math.imul(J,vt),r=r+Math.imul(X,ct)|0,s=Math.imul(X,vt),o=o+Math.imul(D,mt)|0,r=r+Math.imul(D,gt)|0,r=r+Math.imul(G,mt)|0,s=s+Math.imul(G,gt)|0;var ur=(c+o|0)+((r&8191)<<13)|0;c=(s+(r>>>13)|0)+(ur>>>26)|0,ur&=67108863,o=Math.imul(J,mt),r=Math.imul(J,gt),r=r+Math.imul(X,mt)|0,s=Math.imul(X,gt);var lr=(c+o|0)+((r&8191)<<13)|0;return c=(s+(r>>>13)|0)+(lr>>>26)|0,lr&=67108863,l[0]=Dt,l[1]=Gt,l[2]=Jt,l[3]=Xt,l[4]=Wt,l[5]=Yt,l[6]=Qt,l[7]=tr,l[8]=rr,l[9]=er,l[10]=ir,l[11]=nr,l[12]=fr,l[13]=ar,l[14]=or,l[15]=sr,l[16]=hr,l[17]=ur,l[18]=lr,c!==0&&(l[19]=c,n.length++),n};Math.imul||(Tt=Nt);function kt(a,t,e){e.negative=t.negative^a.negative,e.length=a.length+t.length;for(var n=0,f=0,u=0;u<e.length-1;u++){var l=f;f=0;for(var c=n&67108863,o=Math.min(u,t.length-1),r=Math.max(0,u-a.length+1);r<=o;r++){var s=u-r,b=a.words[s]|0,_=t.words[r]|0,B=b*_,yt=B&67108863;l=l+(B/67108864|0)|0,yt=yt+c|0,c=yt&67108863,l=l+(yt>>>26)|0,f+=l>>>26,l&=67108863}e.words[u]=c,n=l,l=f}return n!==0?e.words[u]=n:e.length--,e._strip()}function w(a,t,e){return kt(a,t,e)}h.prototype.mulTo=function(t,e){var n,f=this.length+t.length;return this.length===10&&t.length===10?n=Tt(this,t,e):f<63?n=Nt(this,t,e):f<1024?n=kt(this,t,e):n=w(this,t,e),n},h.prototype.mul=function(t){var e=new h(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},h.prototype.mulf=function(t){var e=new h(null);return e.words=new Array(this.length+t.length),w(this,t,e)},h.prototype.imul=function(t){return this.clone().mulTo(t,this)},h.prototype.imuln=function(t){var e=t<0;e&&(t=-t),v(typeof t=="number"),v(t<67108864);for(var n=0,f=0;f<this.length;f++){var u=(this.words[f]|0)*t,l=(u&67108863)+(n&67108863);n>>=26,n+=u/67108864|0,n+=l>>>26,this.words[f]=l&67108863}return n!==0&&(this.words[f]=n,this.length++),e?this.ineg():this},h.prototype.muln=function(t){return this.clone().imuln(t)},h.prototype.sqr=function(){return this.mul(this)},h.prototype.isqr=function(){return this.imul(this.clone())},h.prototype.pow=function(t){var e=It(t);if(e.length===0)return new h(1);for(var n=this,f=0;f<e.length&&e[f]===0;f++,n=n.sqr());if(++f<e.length)for(var u=n.sqr();f<e.length;f++,u=u.sqr())e[f]!==0&&(n=n.mul(u));return n},h.prototype.iushln=function(t){v(typeof t=="number"&&t>=0);var e=t%26,n=(t-e)/26,f=67108863>>>26-e<<26-e,u;if(e!==0){var l=0;for(u=0;u<this.length;u++){var c=this.words[u]&f,o=(this.words[u]|0)-c<<e;this.words[u]=o|l,l=c>>>26-e}l&&(this.words[u]=l,this.length++)}if(n!==0){for(u=this.length-1;u>=0;u--)this.words[u+n]=this.words[u];for(u=0;u<n;u++)this.words[u]=0;this.length+=n}return this._strip()},h.prototype.ishln=function(t){return v(this.negative===0),this.iushln(t)},h.prototype.iushrn=function(t,e,n){v(typeof t=="number"&&t>=0);var f;e?f=(e-e%26)/26:f=0;var u=t%26,l=Math.min((t-u)/26,this.length),c=67108863^67108863>>>u<<u,o=n;if(f-=l,f=Math.max(0,f),o){for(var r=0;r<l;r++)o.words[r]=this.words[r];o.length=l}if(l!==0)if(this.length>l)for(this.length-=l,r=0;r<this.length;r++)this.words[r]=this.words[r+l];else this.words[0]=0,this.length=1;var s=0;for(r=this.length-1;r>=0&&(s!==0||r>=f);r--){var b=this.words[r]|0;this.words[r]=s<<26-u|b>>>u,s=b&c}return o&&s!==0&&(o.words[o.length++]=s),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},h.prototype.ishrn=function(t,e,n){return v(this.negative===0),this.iushrn(t,e,n)},h.prototype.shln=function(t){return this.clone().ishln(t)},h.prototype.ushln=function(t){return this.clone().iushln(t)},h.prototype.shrn=function(t){return this.clone().ishrn(t)},h.prototype.ushrn=function(t){return this.clone().iushrn(t)},h.prototype.testn=function(t){v(typeof t=="number"&&t>=0);var e=t%26,n=(t-e)/26,f=1<<e;if(this.length<=n)return!1;var u=this.words[n];return!!(u&f)},h.prototype.imaskn=function(t){v(typeof t=="number"&&t>=0);var e=t%26,n=(t-e)/26;if(v(this.negative===0,"imaskn works only with positive numbers"),this.length<=n)return this;if(e!==0&&n++,this.length=Math.min(n,this.length),e!==0){var f=67108863^67108863>>>e<<e;this.words[this.length-1]&=f}return this._strip()},h.prototype.maskn=function(t){return this.clone().imaskn(t)},h.prototype.iaddn=function(t){return v(typeof t=="number"),v(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<=t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},h.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},h.prototype.isubn=function(t){if(v(typeof t=="number"),v(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},h.prototype.addn=function(t){return this.clone().iaddn(t)},h.prototype.subn=function(t){return this.clone().isubn(t)},h.prototype.iabs=function(){return this.negative=0,this},h.prototype.abs=function(){return this.clone().iabs()},h.prototype._ishlnsubmul=function(t,e,n){var f=t.length+n,u;this._expand(f);var l,c=0;for(u=0;u<t.length;u++){l=(this.words[u+n]|0)+c;var o=(t.words[u]|0)*e;l-=o&67108863,c=(l>>26)-(o/67108864|0),this.words[u+n]=l&67108863}for(;u<this.length-n;u++)l=(this.words[u+n]|0)+c,c=l>>26,this.words[u+n]=l&67108863;if(c===0)return this._strip();for(v(c===-1),c=0,u=0;u<this.length;u++)l=-(this.words[u]|0)+c,c=l>>26,this.words[u]=l&67108863;return this.negative=1,this._strip()},h.prototype._wordDiv=function(t,e){var n=this.length-t.length,f=this.clone(),u=t,l=u.words[u.length-1]|0,c=this._countBits(l);n=26-c,n!==0&&(u=u.ushln(n),f.iushln(n),l=u.words[u.length-1]|0);var o=f.length-u.length,r;if(e!=="mod"){r=new h(null),r.length=o+1,r.words=new Array(r.length);for(var s=0;s<r.length;s++)r.words[s]=0}var b=f.clone()._ishlnsubmul(u,1,o);b.negative===0&&(f=b,r&&(r.words[o]=1));for(var _=o-1;_>=0;_--){var B=(f.words[u.length+_]|0)*67108864+(f.words[u.length+_-1]|0);for(B=Math.min(B/l|0,67108863),f._ishlnsubmul(u,B,_);f.negative!==0;)B--,f.negative=0,f._ishlnsubmul(u,1,_),f.isZero()||(f.negative^=1);r&&(r.words[_]=B)}return r&&r._strip(),f._strip(),e!=="div"&&n!==0&&f.iushrn(n),{div:r||null,mod:f}},h.prototype.divmod=function(t,e,n){if(v(!t.isZero()),this.isZero())return{div:new h(0),mod:new h(0)};var f,u,l;return this.negative!==0&&t.negative===0?(l=this.neg().divmod(t,e),e!=="mod"&&(f=l.div.neg()),e!=="div"&&(u=l.mod.neg(),n&&u.negative!==0&&u.iadd(t)),{div:f,mod:u}):this.negative===0&&t.negative!==0?(l=this.divmod(t.neg(),e),e!=="mod"&&(f=l.div.neg()),{div:f,mod:l.mod}):(this.negative&t.negative)!==0?(l=this.neg().divmod(t.neg(),e),e!=="div"&&(u=l.mod.neg(),n&&u.negative!==0&&u.isub(t)),{div:l.div,mod:u}):t.length>this.length||this.cmp(t)<0?{div:new h(0),mod:this}:t.length===1?e==="div"?{div:this.divn(t.words[0]),mod:null}:e==="mod"?{div:null,mod:new h(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new h(this.modrn(t.words[0]))}:this._wordDiv(t,e)},h.prototype.div=function(t){return this.divmod(t,"div",!1).div},h.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},h.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},h.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=e.div.negative!==0?e.mod.isub(t):e.mod,f=t.ushrn(1),u=t.andln(1),l=n.cmp(f);return l<0||u===1&&l===0?e.div:e.div.negative!==0?e.div.isubn(1):e.div.iaddn(1)},h.prototype.modrn=function(t){var e=t<0;e&&(t=-t),v(t<=67108863);for(var n=(1<<26)%t,f=0,u=this.length-1;u>=0;u--)f=(n*f+(this.words[u]|0))%t;return e?-f:f},h.prototype.modn=function(t){return this.modrn(t)},h.prototype.idivn=function(t){var e=t<0;e&&(t=-t),v(t<=67108863);for(var n=0,f=this.length-1;f>=0;f--){var u=(this.words[f]|0)+n*67108864;this.words[f]=u/t|0,n=u%t}return this._strip(),e?this.ineg():this},h.prototype.divn=function(t){return this.clone().idivn(t)},h.prototype.egcd=function(t){v(t.negative===0),v(!t.isZero());var e=this,n=t.clone();e.negative!==0?e=e.umod(t):e=e.clone();for(var f=new h(1),u=new h(0),l=new h(0),c=new h(1),o=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++o;for(var r=n.clone(),s=e.clone();!e.isZero();){for(var b=0,_=1;(e.words[0]&_)===0&&b<26;++b,_<<=1);if(b>0)for(e.iushrn(b);b-- >0;)(f.isOdd()||u.isOdd())&&(f.iadd(r),u.isub(s)),f.iushrn(1),u.iushrn(1);for(var B=0,yt=1;(n.words[0]&yt)===0&&B<26;++B,yt<<=1);if(B>0)for(n.iushrn(B);B-- >0;)(l.isOdd()||c.isOdd())&&(l.iadd(r),c.isub(s)),l.iushrn(1),c.iushrn(1);e.cmp(n)>=0?(e.isub(n),f.isub(l),u.isub(c)):(n.isub(e),l.isub(f),c.isub(u))}return{a:l,b:c,gcd:n.iushln(o)}},h.prototype._invmp=function(t){v(t.negative===0),v(!t.isZero());var e=this,n=t.clone();e.negative!==0?e=e.umod(t):e=e.clone();for(var f=new h(1),u=new h(0),l=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,o=1;(e.words[0]&o)===0&&c<26;++c,o<<=1);if(c>0)for(e.iushrn(c);c-- >0;)f.isOdd()&&f.iadd(l),f.iushrn(1);for(var r=0,s=1;(n.words[0]&s)===0&&r<26;++r,s<<=1);if(r>0)for(n.iushrn(r);r-- >0;)u.isOdd()&&u.iadd(l),u.iushrn(1);e.cmp(n)>=0?(e.isub(n),f.isub(u)):(n.isub(e),u.isub(f))}var b;return e.cmpn(1)===0?b=f:b=u,b.cmpn(0)<0&&b.iadd(t),b},h.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var f=0;e.isEven()&&n.isEven();f++)e.iushrn(1),n.iushrn(1);do{for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var u=e.cmp(n);if(u<0){var l=e;e=n,n=l}else if(u===0||n.cmpn(1)===0)break;e.isub(n)}while(!0);return n.iushln(f)},h.prototype.invm=function(t){return this.egcd(t).a.umod(t)},h.prototype.isEven=function(){return(this.words[0]&1)===0},h.prototype.isOdd=function(){return(this.words[0]&1)===1},h.prototype.andln=function(t){return this.words[0]&t},h.prototype.bincn=function(t){v(typeof t=="number");var e=t%26,n=(t-e)/26,f=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=f,this;for(var u=f,l=n;u!==0&&l<this.length;l++){var c=this.words[l]|0;c+=u,u=c>>>26,c&=67108863,this.words[l]=c}return u!==0&&(this.words[l]=u,this.length++),this},h.prototype.isZero=function(){return this.length===1&&this.words[0]===0},h.prototype.cmpn=function(t){var e=t<0;if(this.negative!==0&&!e)return-1;if(this.negative===0&&e)return 1;this._strip();var n;if(this.length>1)n=1;else{e&&(t=-t),v(t<=67108863,"Number is too big");var f=this.words[0]|0;n=f===t?0:f<t?-1:1}return this.negative!==0?-n|0:n},h.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var e=this.ucmp(t);return this.negative!==0?-e|0:e},h.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var f=this.words[n]|0,u=t.words[n]|0;if(f!==u){f<u?e=-1:f>u&&(e=1);break}}return e},h.prototype.gtn=function(t){return this.cmpn(t)===1},h.prototype.gt=function(t){return this.cmp(t)===1},h.prototype.gten=function(t){return this.cmpn(t)>=0},h.prototype.gte=function(t){return this.cmp(t)>=0},h.prototype.ltn=function(t){return this.cmpn(t)===-1},h.prototype.lt=function(t){return this.cmp(t)===-1},h.prototype.lten=function(t){return this.cmpn(t)<=0},h.prototype.lte=function(t){return this.cmp(t)<=0},h.prototype.eqn=function(t){return this.cmpn(t)===0},h.prototype.eq=function(t){return this.cmp(t)===0},h.red=function(t){return new d(t)},h.prototype.toRed=function(t){return v(!this.red,"Already a number in reduction context"),v(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},h.prototype.fromRed=function(){return v(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},h.prototype._forceRed=function(t){return this.red=t,this},h.prototype.forceRed=function(t){return v(!this.red,"Already a number in reduction context"),this._forceRed(t)},h.prototype.redAdd=function(t){return v(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},h.prototype.redIAdd=function(t){return v(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},h.prototype.redSub=function(t){return v(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},h.prototype.redISub=function(t){return v(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},h.prototype.redShl=function(t){return v(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},h.prototype.redMul=function(t){return v(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},h.prototype.redIMul=function(t){return v(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},h.prototype.redSqr=function(){return v(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},h.prototype.redISqr=function(){return v(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},h.prototype.redSqrt=function(){return v(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},h.prototype.redInvm=function(){return v(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},h.prototype.redNeg=function(){return v(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},h.prototype.redPow=function(t){return v(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var T={k256:null,p224:null,p192:null,p25519:null};function R(a,t){this.name=a,this.p=new h(t,16),this.n=this.p.bitLength(),this.k=new h(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}R.prototype._tmp=function(){var t=new h(null);return t.words=new Array(Math.ceil(this.n/13)),t},R.prototype.ireduce=function(t){var e=t,n;do this.split(e,this.tmp),e=this.imulK(e),e=e.iadd(this.tmp),n=e.bitLength();while(n>this.n);var f=n<this.n?-1:e.ucmp(this.p);return f===0?(e.words[0]=0,e.length=1):f>0?e.isub(this.p):e.strip!==void 0?e.strip():e._strip(),e},R.prototype.split=function(t,e){t.iushrn(this.n,0,e)},R.prototype.imulK=function(t){return t.imul(this.k)};function Et(){R.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}g(Et,R),Et.prototype.split=function(t,e){for(var n=4194303,f=Math.min(t.length,9),u=0;u<f;u++)e.words[u]=t.words[u];if(e.length=f,t.length<=9){t.words[0]=0,t.length=1;return}var l=t.words[9];for(e.words[e.length++]=l&n,u=10;u<t.length;u++){var c=t.words[u]|0;t.words[u-10]=(c&n)<<4|l>>>22,l=c}l>>>=22,t.words[u-10]=l,l===0&&t.length>10?t.length-=10:t.length-=9},Et.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var f=t.words[n]|0;e+=f*977,t.words[n]=e&67108863,e=f*64+(e/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function Ct(){R.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}g(Ct,R);function Rt(){R.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}g(Rt,R);function y(){R.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}g(y,R),y.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var f=(t.words[n]|0)*19+e,u=f&67108863;f>>>=26,t.words[n]=u,e=f}return e!==0&&(t.words[t.length++]=e),t},h._prime=function(t){if(T[t])return T[t];var e;if(t==="k256")e=new Et;else if(t==="p224")e=new Ct;else if(t==="p192")e=new Rt;else if(t==="p25519")e=new y;else throw new Error("Unknown prime "+t);return T[t]=e,e};function d(a){if(typeof a=="string"){var t=h._prime(a);this.m=t.p,this.prime=t}else v(a.gtn(1),"modulus must be greater than 1"),this.m=a,this.prime=null}d.prototype._verify1=function(t){v(t.negative===0,"red works only with positives"),v(t.red,"red works only with red numbers")},d.prototype._verify2=function(t,e){v((t.negative|e.negative)===0,"red works only with positives"),v(t.red&&t.red===e.red,"red works only with red numbers")},d.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(E(t,t.umod(this.m)._forceRed(this)),t)},d.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},d.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},d.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},d.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},d.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},d.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},d.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},d.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},d.prototype.isqr=function(t){return this.imul(t,t.clone())},d.prototype.sqr=function(t){return this.mul(t,t)},d.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(v(e%2===1),e===3){var n=this.m.add(new h(1)).iushrn(2);return this.pow(t,n)}for(var f=this.m.subn(1),u=0;!f.isZero()&&f.andln(1)===0;)u++,f.iushrn(1);v(!f.isZero());var l=new h(1).toRed(this),c=l.redNeg(),o=this.m.subn(1).iushrn(1),r=this.m.bitLength();for(r=new h(2*r*r).toRed(this);this.pow(r,o).cmp(c)!==0;)r.redIAdd(c);for(var s=this.pow(r,f),b=this.pow(t,f.addn(1).iushrn(1)),_=this.pow(t,f),B=u;_.cmp(l)!==0;){for(var yt=_,P=0;yt.cmp(l)!==0;P++)yt=yt.redSqr();v(P<B);var I=this.pow(s,new h(1).iushln(B-P-1));b=b.redMul(I),s=I.redSqr(),_=_.redMul(s),B=P}return b},d.prototype.invm=function(t){var e=t._invmp(this.m);return e.negative!==0?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},d.prototype.pow=function(t,e){if(e.isZero())return new h(1).toRed(this);if(e.cmpn(1)===0)return t.clone();var n=4,f=new Array(1<<n);f[0]=new h(1).toRed(this),f[1]=t;for(var u=2;u<f.length;u++)f[u]=this.mul(f[u-1],t);var l=f[0],c=0,o=0,r=e.bitLength()%26;for(r===0&&(r=26),u=e.length-1;u>=0;u--){for(var s=e.words[u],b=r-1;b>=0;b--){var _=s>>b&1;if(l!==f[0]&&(l=this.sqr(l)),_===0&&c===0){o=0;continue}c<<=1,c|=_,o++,!(o!==n&&(u!==0||b!==0))&&(l=this.mul(l,f[c]),o=0,c=0)}r=26}return l},d.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},d.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},h.mont=function(t){return new M(t)};function M(a){d.call(this,a),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new h(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}g(M,d),M.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},M.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},M.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),f=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=n.isub(f).iushrn(this.shift),l=u;return u.cmp(this.m)>=0?l=u.isub(this.m):u.cmpn(0)<0&&(l=u.iadd(this.m)),l._forceRed(this)},M.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new h(0)._forceRed(this);var n=t.mul(e),f=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=n.isub(f).iushrn(this.shift),l=u;return u.cmp(this.m)>=0?l=u.isub(this.m):u.cmpn(0)<0&&(l=u.iadd(this.m)),l._forceRed(this)},M.prototype.invm=function(t){var e=this.imod(t._invmp(this.m).mul(this.r2));return e._forceRed(this)}})(i,L)})(Kr);var Dr=L&&L.__createBinding||(Object.create?function(i,m,p,v){v===void 0&&(v=p);var g=Object.getOwnPropertyDescriptor(m,p);(!g||("get"in g?!m.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return m[p]}}),Object.defineProperty(i,v,g)}:function(i,m,p,v){v===void 0&&(v=p),i[v]=m[p]}),Gr=L&&L.__setModuleDefault||(Object.create?function(i,m){Object.defineProperty(i,"default",{enumerable:!0,value:m})}:function(i,m){i.default=m}),Jr=L&&L.__importStar||function(i){if(i&&i.__esModule)return i;var m={};if(i!=null)for(var p in i)p!=="default"&&Object.prototype.hasOwnProperty.call(i,p)&&Dr(m,i,p);return Gr(m,i),m},Xr=L&&L.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(wt,"__esModule",{value:!0});wt.rlp=wt.BN=void 0;var Wr=Xr(Kr.exports);wt.BN=Wr.default;var Yr=Jr(Fr);wt.rlp=Yr;(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.KECCAK256_RLP=i.KECCAK256_RLP_S=i.KECCAK256_RLP_ARRAY=i.KECCAK256_RLP_ARRAY_S=i.KECCAK256_NULL=i.KECCAK256_NULL_S=i.TWO_POW256=i.MAX_INTEGER=i.MAX_UINT64=void 0;var m=zr,p=wt;i.MAX_UINT64=new p.BN("ffffffffffffffff",16),i.MAX_INTEGER=new p.BN("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),i.TWO_POW256=new p.BN("10000000000000000000000000000000000000000000000000000000000000000",16),i.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",i.KECCAK256_NULL=m.Buffer.from(i.KECCAK256_NULL_S,"hex"),i.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",i.KECCAK256_RLP_ARRAY=m.Buffer.from(i.KECCAK256_RLP_ARRAY_S,"hex"),i.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",i.KECCAK256_RLP=m.Buffer.from(i.KECCAK256_RLP_S,"hex")})(vr);var mr={},k={};Object.defineProperty(k,"__esModule",{value:!0});k.isHexString=k.getKeys=k.fromAscii=k.fromUtf8=k.toAscii=k.arrayContainsArray=k.getBinarySize=k.padToEven=k.stripHexPrefix=k.isHexPrefixed=void 0;function qr(i){if(typeof i!="string")throw new Error("[isHexPrefixed] input must be type 'string', received type ".concat(typeof i));return i[0]==="0"&&i[1]==="x"}k.isHexPrefixed=qr;var Qr=function(i){if(typeof i!="string")throw new Error("[stripHexPrefix] input must be type 'string', received ".concat(typeof i));return qr(i)?i.slice(2):i};k.stripHexPrefix=Qr;function Zr(i){var m=i;if(typeof m!="string")throw new Error("[padToEven] value must be type 'string', received ".concat(typeof m));return m.length%2&&(m="0".concat(m)),m}k.padToEven=Zr;function te(i){if(typeof i!="string")throw new Error("[getBinarySize] method requires input type 'string', recieved ".concat(typeof i));return Buffer.byteLength(i,"utf8")}k.getBinarySize=te;function re(i,m,p){if(Array.isArray(i)!==!0)throw new Error("[arrayContainsArray] method requires input 'superset' to be an array, got type '".concat(typeof i,"'"));if(Array.isArray(m)!==!0)throw new Error("[arrayContainsArray] method requires input 'subset' to be an array, got type '".concat(typeof m,"'"));return m[p?"some":"every"](function(v){return i.indexOf(v)>=0})}k.arrayContainsArray=re;function ee(i){var m="",p=0,v=i.length;for(i.substring(0,2)==="0x"&&(p=2);p<v;p+=2){var g=parseInt(i.substr(p,2),16);m+=String.fromCharCode(g)}return m}k.toAscii=ee;function ie(i){var m=Buffer.from(i,"utf8");return"0x".concat(Zr(m.toString("hex")).replace(/^0+|0+$/g,""))}k.fromUtf8=ie;function ne(i){for(var m="",p=0;p<i.length;p++){var v=i.charCodeAt(p),g=v.toString(16);m+=g.length<2?"0".concat(g):g}return"0x".concat(m)}k.fromAscii=ne;function fe(i,m,p){if(!Array.isArray(i))throw new Error("[getKeys] method expects input 'params' to be an array, got ".concat(typeof i));if(typeof m!="string")throw new Error("[getKeys] method expects input 'key' to be type 'string', got ".concat(typeof i));for(var v=[],g=0;g<i.length;g++){var h=i[g][m];if(p&&!h)h="";else if(typeof h!="string")throw new Error("invalid abi - expected type 'string', received ".concat(typeof h));v.push(h)}return v}k.getKeys=fe;function ae(i,m){return!(typeof i!="string"||!i.match(/^0x[0-9A-Fa-f]*$/)||m&&i.length!==2+2*m)}k.isHexString=ae;var Pt={},bt={};Object.defineProperty(bt,"__esModule",{value:!0});bt.assertIsString=bt.assertIsArray=bt.assertIsBuffer=bt.assertIsHexString=void 0;var oe=k,se=function(i){if(!(0,oe.isHexString)(i)){var m="This method only supports 0x-prefixed hex strings but input was: ".concat(i);throw new Error(m)}};bt.assertIsHexString=se;var he=function(i){if(!Buffer.isBuffer(i)){var m="This method only supports Buffer but input was: ".concat(i);throw new Error(m)}};bt.assertIsBuffer=he;var ue=function(i){if(!Array.isArray(i)){var m="This method only supports number arrays but input was: ".concat(i);throw new Error(m)}};bt.assertIsArray=ue;var le=function(i){if(typeof i!="string"){var m="This method only supports strings but input was: ".concat(i);throw new Error(m)}};bt.assertIsString=le;(function(i){var m=L&&L.__values||function(d){var M=typeof Symbol=="function"&&Symbol.iterator,a=M&&d[M],t=0;if(a)return a.call(d);if(d&&typeof d.length=="number")return{next:function(){return d&&t>=d.length&&(d=void 0),{value:d&&d[t++],done:!d}}};throw new TypeError(M?"Object is not iterable.":"Symbol.iterator is not defined.")},p=L&&L.__read||function(d,M){var a=typeof Symbol=="function"&&d[Symbol.iterator];if(!a)return d;var t=a.call(d),e,n=[],f;try{for(;(M===void 0||M-- >0)&&!(e=t.next()).done;)n.push(e.value)}catch(u){f={error:u}}finally{try{e&&!e.done&&(a=t.return)&&a.call(t)}finally{if(f)throw f.error}}return n};Object.defineProperty(i,"__esModule",{value:!0}),i.bufArrToArr=i.arrToBufArr=i.validateNoLeadingZeroes=i.baToJSON=i.toUtf8=i.addHexPrefix=i.toUnsigned=i.fromSigned=i.bufferToHex=i.bufferToInt=i.toBuffer=i.unpadHexString=i.unpadArray=i.unpadBuffer=i.setLengthRight=i.setLengthLeft=i.zeros=i.intToBuffer=i.intToHex=void 0;var v=wt,g=k,h=bt,A=function(d){if(!Number.isSafeInteger(d)||d<0)throw new Error("Received an invalid integer type: ".concat(d));return"0x".concat(d.toString(16))};i.intToHex=A;var N=function(d){var M=(0,i.intToHex)(d);return Buffer.from((0,g.padToEven)(M.slice(2)),"hex")};i.intToBuffer=N;var S=function(d){return Buffer.allocUnsafe(d).fill(0)};i.zeros=S;var x=function(d,M,a){var t=(0,i.zeros)(M);return a?d.length<M?(d.copy(t),t):d.slice(0,M):d.length<M?(d.copy(t,M-d.length),t):d.slice(-M)},E=function(d,M){return(0,h.assertIsBuffer)(d),x(d,M,!1)};i.setLengthLeft=E;var pt=function(d,M){return(0,h.assertIsBuffer)(d),x(d,M,!0)};i.setLengthRight=pt;var _t=function(d){for(var M=d[0];d.length>0&&M.toString()==="0";)d=d.slice(1),M=d[0];return d},xt=function(d){return(0,h.assertIsBuffer)(d),_t(d)};i.unpadBuffer=xt;var Lt=function(d){return(0,h.assertIsArray)(d),_t(d)};i.unpadArray=Lt;var St=function(d){return(0,h.assertIsHexString)(d),d=(0,g.stripHexPrefix)(d),_t(d)};i.unpadHexString=St;var It=function(d){if(d==null)return Buffer.allocUnsafe(0);if(Buffer.isBuffer(d)||Array.isArray(d)||d instanceof Uint8Array)return Buffer.from(d);if(typeof d=="string"){if(!(0,g.isHexString)(d))throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ".concat(d));return Buffer.from((0,g.padToEven)((0,g.stripHexPrefix)(d)),"hex")}if(typeof d=="number")return(0,i.intToBuffer)(d);if(v.BN.isBN(d)){if(d.isNeg())throw new Error("Cannot convert negative BN to buffer. Given: ".concat(d));return d.toArrayLike(Buffer)}if(d.toArray)return Buffer.from(d.toArray());if(d.toBuffer)return Buffer.from(d.toBuffer());throw new Error("invalid type")};i.toBuffer=It;var Nt=function(d){return new v.BN((0,i.toBuffer)(d)).toNumber()};i.bufferToInt=Nt;var Tt=function(d){return d=(0,i.toBuffer)(d),"0x"+d.toString("hex")};i.bufferToHex=Tt;var kt=function(d){return new v.BN(d).fromTwos(256)};i.fromSigned=kt;var w=function(d){return Buffer.from(d.toTwos(256).toArray())};i.toUnsigned=w;var T=function(d){return typeof d!="string"||(0,g.isHexPrefixed)(d)?d:"0x"+d};i.addHexPrefix=T;var R=function(d){var M=/^(00)+|(00)+$/g;if(d=(0,g.stripHexPrefix)(d),d.length%2!==0)throw new Error("Invalid non-even hex string input for toUtf8() provided");var a=Buffer.from(d.replace(M,""),"hex");return a.toString("utf8")};i.toUtf8=R;var Et=function(d){if(Buffer.isBuffer(d))return"0x".concat(d.toString("hex"));if(d instanceof Array){for(var M=[],a=0;a<d.length;a++)M.push((0,i.baToJSON)(d[a]));return M}};i.baToJSON=Et;var Ct=function(d){var M,a;try{for(var t=m(Object.entries(d)),e=t.next();!e.done;e=t.next()){var n=p(e.value,2),f=n[0],u=n[1];if(u!==void 0&&u.length>0&&u[0]===0)throw new Error("".concat(f," cannot have leading zeroes, received: ").concat(u.toString("hex")))}}catch(l){M={error:l}}finally{try{e&&!e.done&&(a=t.return)&&a.call(t)}finally{if(M)throw M.error}}};i.validateNoLeadingZeroes=Ct;function Rt(d){return Array.isArray(d)?d.map(function(M){return Rt(M)}):Buffer.from(d)}i.arrToBufArr=Rt;function y(d){return Array.isArray(d)?d.map(function(M){return y(M)}):Uint8Array.from(d!=null?d:[])}i.bufArrToArr=y})(Pt);var zt={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.rlphash=i.ripemd160FromArray=i.ripemd160FromString=i.ripemd160=i.sha256FromArray=i.sha256FromString=i.sha256=i.keccakFromArray=i.keccakFromHexString=i.keccakFromString=i.keccak256=i.keccak=void 0;var m=Vr,p=jr(),v=wt,g=Pt,h=bt,A=function(w,T){switch(T===void 0&&(T=256),(0,h.assertIsBuffer)(w),T){case 224:return(0,m.keccak224)(w);case 256:return(0,m.keccak256)(w);case 384:return(0,m.keccak384)(w);case 512:return(0,m.keccak512)(w);default:throw new Error("Invald algorithm: keccak".concat(T))}};i.keccak=A;var N=function(w){return(0,i.keccak)(w)};i.keccak256=N;var S=function(w,T){T===void 0&&(T=256),(0,h.assertIsString)(w);var R=Buffer.from(w,"utf8");return(0,i.keccak)(R,T)};i.keccakFromString=S;var x=function(w,T){return T===void 0&&(T=256),(0,h.assertIsHexString)(w),(0,i.keccak)((0,g.toBuffer)(w),T)};i.keccakFromHexString=x;var E=function(w,T){return T===void 0&&(T=256),(0,h.assertIsArray)(w),(0,i.keccak)((0,g.toBuffer)(w),T)};i.keccakFromArray=E;var pt=function(w){return w=(0,g.toBuffer)(w),p("sha256").update(w).digest()},_t=function(w){return(0,h.assertIsBuffer)(w),pt(w)};i.sha256=_t;var xt=function(w){return(0,h.assertIsString)(w),pt(w)};i.sha256FromString=xt;var Lt=function(w){return(0,h.assertIsArray)(w),pt(w)};i.sha256FromArray=Lt;var St=function(w,T){w=(0,g.toBuffer)(w);var R=p("rmd160").update(w).digest();return T===!0?(0,g.setLengthLeft)(R,32):R},It=function(w,T){return(0,h.assertIsBuffer)(w),St(w,T)};i.ripemd160=It;var Nt=function(w,T){return(0,h.assertIsString)(w),St(w,T)};i.ripemd160FromString=Nt;var Tt=function(w,T){return(0,h.assertIsArray)(w),St(w,T)};i.ripemd160FromArray=Tt;var kt=function(w){return(0,i.keccak)(v.rlp.encode(w))};i.rlphash=kt})(zt);var Ut={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.toType=i.TypeOutput=i.bnToRlp=i.bnToUnpaddedBuffer=i.bnToHex=void 0;var m=wt,p=k,v=Pt;function g(x){return"0x".concat(x.toString(16))}i.bnToHex=g;function h(x){return(0,v.unpadBuffer)(x.toArrayLike(Buffer))}i.bnToUnpaddedBuffer=h;function A(x){return h(x)}i.bnToRlp=A;var N;(function(x){x[x.Number=0]="Number",x[x.BN=1]="BN",x[x.Buffer=2]="Buffer",x[x.PrefixedHexString=3]="PrefixedHexString"})(N=i.TypeOutput||(i.TypeOutput={}));function S(x,E){if(x===null)return null;if(x!==void 0){if(typeof x=="string"&&!(0,p.isHexString)(x))throw new Error("A string must be provided with a 0x-prefix, given: ".concat(x));if(typeof x=="number"&&!Number.isSafeInteger(x))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");var pt=(0,v.toBuffer)(x);if(E===N.Buffer)return pt;if(E===N.BN)return new m.BN(pt);if(E===N.Number){var _t=new m.BN(pt),xt=new m.BN(Number.MAX_SAFE_INTEGER.toString());if(_t.gt(xt))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return _t.toNumber()}else return"0x".concat(pt.toString("hex"))}}i.toType=S})(Ut);(function(i){var m=L&&L.__read||function(y,d){var M=typeof Symbol=="function"&&y[Symbol.iterator];if(!M)return y;var a=M.call(y),t,e=[],n;try{for(;(d===void 0||d-- >0)&&!(t=a.next()).done;)e.push(t.value)}catch(f){n={error:f}}finally{try{t&&!t.done&&(M=a.return)&&M.call(a)}finally{if(n)throw n.error}}return e},p=L&&L.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(i,"__esModule",{value:!0}),i.isZeroAddress=i.zeroAddress=i.importPublic=i.privateToAddress=i.privateToPublic=i.publicToAddress=i.pubToAddress=i.isValidPublic=i.isValidPrivate=i.generateAddress2=i.generateAddress=i.isValidChecksumAddress=i.toChecksumAddress=i.isValidAddress=i.Account=void 0;var v=p(cr),g=wt,h=Or,A=k,N=vr,S=Pt,x=zt,E=bt,pt=Ut,_t=function(){function y(d,M,a,t){d===void 0&&(d=new g.BN(0)),M===void 0&&(M=new g.BN(0)),a===void 0&&(a=N.KECCAK256_RLP),t===void 0&&(t=N.KECCAK256_NULL),this.nonce=d,this.balance=M,this.stateRoot=a,this.codeHash=t,this._validate()}return y.fromAccountData=function(d){var M=d.nonce,a=d.balance,t=d.stateRoot,e=d.codeHash;return new y(M?new g.BN((0,S.toBuffer)(M)):void 0,a?new g.BN((0,S.toBuffer)(a)):void 0,t?(0,S.toBuffer)(t):void 0,e?(0,S.toBuffer)(e):void 0)},y.fromRlpSerializedAccount=function(d){var M=g.rlp.decode(d);if(!Array.isArray(M))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(M)},y.fromValuesArray=function(d){var M=m(d,4),a=M[0],t=M[1],e=M[2],n=M[3];return new y(new g.BN(a),new g.BN(t),e,n)},y.prototype._validate=function(){if(this.nonce.lt(new g.BN(0)))throw new Error("nonce must be greater than zero");if(this.balance.lt(new g.BN(0)))throw new Error("balance must be greater than zero");if(this.stateRoot.length!==32)throw new Error("stateRoot must have a length of 32");if(this.codeHash.length!==32)throw new Error("codeHash must have a length of 32")},y.prototype.raw=function(){return[(0,pt.bnToUnpaddedBuffer)(this.nonce),(0,pt.bnToUnpaddedBuffer)(this.balance),this.stateRoot,this.codeHash]},y.prototype.serialize=function(){return g.rlp.encode(this.raw())},y.prototype.isContract=function(){return!this.codeHash.equals(N.KECCAK256_NULL)},y.prototype.isEmpty=function(){return this.balance.isZero()&&this.nonce.isZero()&&this.codeHash.equals(N.KECCAK256_NULL)},y}();i.Account=_t;var xt=function(y){try{(0,E.assertIsString)(y)}catch(d){return!1}return/^0x[0-9a-fA-F]{40}$/.test(y)};i.isValidAddress=xt;var Lt=function(y,d){(0,E.assertIsHexString)(y);var M=(0,A.stripHexPrefix)(y).toLowerCase(),a="";if(d){var t=(0,pt.toType)(d,pt.TypeOutput.BN);a=t.toString()+"0x"}for(var e=(0,x.keccakFromString)(a+M).toString("hex"),n="0x",f=0;f<M.length;f++)parseInt(e[f],16)>=8?n+=M[f].toUpperCase():n+=M[f];return n};i.toChecksumAddress=Lt;var St=function(y,d){return(0,i.isValidAddress)(y)&&(0,i.toChecksumAddress)(y,d)===y};i.isValidChecksumAddress=St;var It=function(y,d){(0,E.assertIsBuffer)(y),(0,E.assertIsBuffer)(d);var M=new g.BN(d);return M.isZero()?(0,x.rlphash)([y,null]).slice(-20):(0,x.rlphash)([y,Buffer.from(M.toArray())]).slice(-20)};i.generateAddress=It;var Nt=function(y,d,M){(0,E.assertIsBuffer)(y),(0,E.assertIsBuffer)(d),(0,E.assertIsBuffer)(M),(0,v.default)(y.length===20),(0,v.default)(d.length===32);var a=(0,x.keccak256)(Buffer.concat([Buffer.from("ff","hex"),y,d,(0,x.keccak256)(M)]));return a.slice(-20)};i.generateAddress2=Nt;var Tt=function(y){return(0,h.privateKeyVerify)(y)};i.isValidPrivate=Tt;var kt=function(y,d){return d===void 0&&(d=!1),(0,E.assertIsBuffer)(y),y.length===64?(0,h.publicKeyVerify)(Buffer.concat([Buffer.from([4]),y])):d?(0,h.publicKeyVerify)(y):!1};i.isValidPublic=kt;var w=function(y,d){return d===void 0&&(d=!1),(0,E.assertIsBuffer)(y),d&&y.length!==64&&(y=Buffer.from((0,h.publicKeyConvert)(y,!1).slice(1))),(0,v.default)(y.length===64),(0,x.keccak)(y).slice(-20)};i.pubToAddress=w,i.publicToAddress=i.pubToAddress;var T=function(y){return(0,E.assertIsBuffer)(y),Buffer.from((0,h.publicKeyCreate)(y,!1)).slice(1)};i.privateToPublic=T;var R=function(y){return(0,i.publicToAddress)((0,i.privateToPublic)(y))};i.privateToAddress=R;var Et=function(y){return(0,E.assertIsBuffer)(y),y.length!==64&&(y=Buffer.from((0,h.publicKeyConvert)(y,!1).slice(1))),y};i.importPublic=Et;var Ct=function(){var y=20,d=(0,S.zeros)(y);return(0,S.bufferToHex)(d)};i.zeroAddress=Ct;var Rt=function(y){try{(0,E.assertIsString)(y)}catch(M){return!1}var d=(0,i.zeroAddress)();return d===y};i.isZeroAddress=Rt})(mr);var Ft={},de=L&&L.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.Address=void 0;var Ht=de(cr),qt=wt,Rr=Pt,Ot=mr,ce=function(){function i(m){(0,Ht.default)(m.length===20,"Invalid address length"),this.buf=m}return i.zero=function(){return new i((0,Rr.zeros)(20))},i.fromString=function(m){return(0,Ht.default)((0,Ot.isValidAddress)(m),"Invalid address"),new i((0,Rr.toBuffer)(m))},i.fromPublicKey=function(m){(0,Ht.default)(Buffer.isBuffer(m),"Public key should be Buffer");var p=(0,Ot.pubToAddress)(m);return new i(p)},i.fromPrivateKey=function(m){(0,Ht.default)(Buffer.isBuffer(m),"Private key should be Buffer");var p=(0,Ot.privateToAddress)(m);return new i(p)},i.generate=function(m,p){return(0,Ht.default)(qt.BN.isBN(p)),new i((0,Ot.generateAddress)(m.buf,p.toArrayLike(Buffer)))},i.generate2=function(m,p,v){return(0,Ht.default)(Buffer.isBuffer(p)),(0,Ht.default)(Buffer.isBuffer(v)),new i((0,Ot.generateAddress2)(m.buf,p,v))},i.prototype.equals=function(m){return this.buf.equals(m.buf)},i.prototype.isZero=function(){return this.equals(i.zero())},i.prototype.isPrecompileOrSystemAddress=function(){var m=new qt.BN(this.buf),p=new qt.BN(0),v=new qt.BN("ffff","hex");return m.gte(p)&&m.lte(v)},i.prototype.toString=function(){return"0x"+this.buf.toString("hex")},i.prototype.toBuffer=function(){return Buffer.from(this.buf)},i}();Ft.Address=ce;var Mt={};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.hashPersonalMessage=Mt.isValidSignature=Mt.fromRpcSig=Mt.toCompactSig=Mt.toRpcSig=Mt.ecrecover=Mt.ecsign=void 0;var dr=Or,Kt=wt,Bt=Pt,ve=zt,me=bt,At=Ut;function ge(i,m,p){var v=(0,dr.ecdsaSign)(i,m),g=v.signature,h=v.recid,A=Buffer.from(g.slice(0,32)),N=Buffer.from(g.slice(32,64));if(!p||typeof p=="number"){if(p&&!Number.isSafeInteger(p))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");var S=p?h+(p*2+35):h+27;return{r:A,s:N,v:S}}var x=(0,At.toType)(p,At.TypeOutput.BN),E=x.muln(2).addn(35).addn(h).toArrayLike(Buffer);return{r:A,s:N,v:E}}Mt.ecsign=ge;function Vt(i,m){var p=(0,At.toType)(i,At.TypeOutput.BN);if(p.eqn(0)||p.eqn(1))return(0,At.toType)(i,At.TypeOutput.BN);if(!m)return p.subn(27);var v=(0,At.toType)(m,At.TypeOutput.BN);return p.sub(v.muln(2).addn(35))}function jt(i){var m=new Kt.BN(i);return m.eqn(0)||m.eqn(1)}var pe=function(i,m,p,v,g){var h=Buffer.concat([(0,Bt.setLengthLeft)(p,32),(0,Bt.setLengthLeft)(v,32)],64),A=Vt(m,g);if(!jt(A))throw new Error("Invalid signature v value");var N=(0,dr.ecdsaRecover)(h,A.toNumber(),i);return Buffer.from((0,dr.publicKeyConvert)(N,!1).slice(1))};Mt.ecrecover=pe;var ye=function(i,m,p,v){var g=Vt(i,v);if(!jt(g))throw new Error("Invalid signature v value");return(0,Bt.bufferToHex)(Buffer.concat([(0,Bt.setLengthLeft)(m,32),(0,Bt.setLengthLeft)(p,32),(0,Bt.toBuffer)(i)]))};Mt.toRpcSig=ye;var Me=function(i,m,p,v){var g=Vt(i,v);if(!jt(g))throw new Error("Invalid signature v value");var h=(0,At.toType)(i,At.TypeOutput.Number),A=p;return(h>28&&h%2===1||h===1||h===28)&&(A=Buffer.from(p),A[0]|=128),(0,Bt.bufferToHex)(Buffer.concat([(0,Bt.setLengthLeft)(m,32),(0,Bt.setLengthLeft)(A,32)]))};Mt.toCompactSig=Me;var we=function(i){var m=(0,Bt.toBuffer)(i),p,v,g;if(m.length>=65)p=m.slice(0,32),v=m.slice(32,64),g=(0,Bt.bufferToInt)(m.slice(64));else if(m.length===64)p=m.slice(0,32),v=m.slice(32,64),g=(0,Bt.bufferToInt)(m.slice(32,33))>>7,v[0]&=127;else throw new Error("Invalid signature length");return g<27&&(g+=27),{v:g,r:p,s:v}};Mt.fromRpcSig=we;var _e=function(i,m,p,v,g){v===void 0&&(v=!0);var h=new Kt.BN("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),A=new Kt.BN("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(m.length!==32||p.length!==32||!jt(Vt(i,g)))return!1;var N=new Kt.BN(m),S=new Kt.BN(p);return!(N.isZero()||N.gt(A)||S.isZero()||S.gt(A)||v&&S.cmp(h)===1)};Mt.isValidSignature=_e;var be=function(i){(0,me.assertIsBuffer)(i);var m=Buffer.from(`Ethereum Signed Message:
`.concat(i.length),"utf-8");return(0,ve.keccak)(Buffer.concat([m,i]))};Mt.hashPersonalMessage=be;var $t={},Be=L&&L.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty($t,"__esModule",{value:!0});$t.defineProperties=void 0;var Hr=Be(cr),Ae=k,Cr=wt,Zt=Pt,xe=function(i,m,p){if(i.raw=[],i._fields=[],i.toJSON=function(g){if(g===void 0&&(g=!1),g){var h={};return i._fields.forEach(function(A){h[A]="0x".concat(i[A].toString("hex"))}),h}return(0,Zt.baToJSON)(i.raw)},i.serialize=function(){return Cr.rlp.encode(i.raw)},m.forEach(function(g,h){i._fields.push(g.name);function A(){return i.raw[h]}function N(S){S=(0,Zt.toBuffer)(S),S.toString("hex")==="00"&&!g.allowZero&&(S=Buffer.allocUnsafe(0)),g.allowLess&&g.length?(S=(0,Zt.unpadBuffer)(S),(0,Hr.default)(g.length>=S.length,"The field ".concat(g.name," must not have more ").concat(g.length," bytes"))):!(g.allowZero&&S.length===0)&&g.length&&(0,Hr.default)(g.length===S.length,"The field ".concat(g.name," must have byte length of ").concat(g.length)),i.raw[h]=S}Object.defineProperty(i,g.name,{enumerable:!0,configurable:!0,get:A,set:N}),g.default&&(i[g.name]=g.default),g.alias&&Object.defineProperty(i,g.alias,{enumerable:!1,configurable:!0,set:N,get:A})}),p)if(typeof p=="string"&&(p=Buffer.from((0,Ae.stripHexPrefix)(p),"hex")),Buffer.isBuffer(p)&&(p=Cr.rlp.decode(p)),Array.isArray(p)){if(p.length>i._fields.length)throw new Error("wrong number of fields in data");p.forEach(function(g,h){i[i._fields[h]]=(0,Zt.toBuffer)(g)})}else if(typeof p=="object"){var v=Object.keys(p);m.forEach(function(g){v.indexOf(g.name)!==-1&&(i[g.name]=p[g.name]),v.indexOf(g.alias)!==-1&&(i[g.alias]=p[g.alias])})}else throw new Error("invalid data")};$t.defineProperties=xe;(function(i){var m=L&&L.__createBinding||(Object.create?function(g,h,A,N){N===void 0&&(N=A);var S=Object.getOwnPropertyDescriptor(h,A);(!S||("get"in S?!h.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return h[A]}}),Object.defineProperty(g,N,S)}:function(g,h,A,N){N===void 0&&(N=A),g[N]=h[A]}),p=L&&L.__exportStar||function(g,h){for(var A in g)A!=="default"&&!Object.prototype.hasOwnProperty.call(h,A)&&m(h,g,A)};Object.defineProperty(i,"__esModule",{value:!0}),i.isHexString=i.getKeys=i.fromAscii=i.fromUtf8=i.toAscii=i.arrayContainsArray=i.getBinarySize=i.padToEven=i.stripHexPrefix=i.isHexPrefixed=void 0,p(vr,i),p(mr,i),p(Ft,i),p(zt,i),p(Mt,i),p(Pt,i),p($t,i),p(wt,i),p(Ut,i);var v=k;Object.defineProperty(i,"isHexPrefixed",{enumerable:!0,get:function(){return v.isHexPrefixed}}),Object.defineProperty(i,"stripHexPrefix",{enumerable:!0,get:function(){return v.stripHexPrefix}}),Object.defineProperty(i,"padToEven",{enumerable:!0,get:function(){return v.padToEven}}),Object.defineProperty(i,"getBinarySize",{enumerable:!0,get:function(){return v.getBinarySize}}),Object.defineProperty(i,"arrayContainsArray",{enumerable:!0,get:function(){return v.arrayContainsArray}}),Object.defineProperty(i,"toAscii",{enumerable:!0,get:function(){return v.toAscii}}),Object.defineProperty(i,"fromUtf8",{enumerable:!0,get:function(){return v.fromUtf8}}),Object.defineProperty(i,"fromAscii",{enumerable:!0,get:function(){return v.fromAscii}}),Object.defineProperty(i,"getKeys",{enumerable:!0,get:function(){return v.getKeys}}),Object.defineProperty(i,"isHexString",{enumerable:!0,get:function(){return v.isHexString}})})($r);export{$r as d};
